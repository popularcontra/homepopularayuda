(function($){"use strict";var body=$("body"),nt_js_cart=$(".nt_js_cart"),_rtl=body.hasClass("rtl_true"),window_w=$(window).width(),small767=window_w<768&&$(window).height()<768,sp_notices="#sp_notices_wrapper",$ld=$("#ld_cl_bar"),$ld_cart=$(".ld_cart_bar"),$ntSearch=$("#nt_search_canvas"),yes_hover=Modernizr.hovermq,ntla_ck=!0,ck_pr_is_ungroup=!0,productMediaTypeVideo="[data-pr-md-tp-video]",productMediaTypeModel="[data-pr-md-tp-model]",videos={},modelJsonSections={},models={},xrButtons={},pr_incoming_mess=nt_settings.pr_incoming_mess,use_notify_me=nt_settings.use_notify_me,save_js=nt_settings.save_js,save2_js=nt_settings.save2_js,save3_js=nt_settings.save3_js,enableHistoryState=nt_settings.enableHistoryState,use_vimg=nt_settings.use_vimg,use_clicking_vimg=nt_settings.use_clicking_vimg,search_prefix=nt_settings.search_prefix,PleaseChoosePrOptions=nt_settings.PleaseChoosePrOptions,edit_item=nt_settings.edit_item,show_confetti=nt_settings.show_confetti,cartUrl=t_cart_url,cartAddUrl=t_cartadd_url+".js",cartChangeUrl=t_cartchange_url+".js",str_qv=".type_quickview_1 .popup_qv_t4s .mfp-content",qvscrollTop=0,geckoTheme={popupAnimation:"mfp-move-horizontal",ajaxSelector:"#cat_shopify a:not(.nav-expand-link),.cat-shop #cat_shopify a.nav-expand-link, #nt_sortby .wrap_sortby a, .nt_ajaxFilter a, .paginate_ajax a, .nav_filters a, .widget_product_tag_cloud a,a.clear_filter",scrollSelector:'.shopify-error a[href^="#"]',nt_btn_load_more:".load-on-scroll:not(.btn--loader-active)",url_currency:"https://api.teathemes.net/currency",money_format:"${{amount}}"},ntv_txt_intock="In stock",ntv_txt_preoder="Pre order",ntv_txt_soldout="Sold out",ntv_txt_oneleft="One Left",ntv_txt_lowstock="Low Stock";function UpdateStockVarant(_InventoryStock,ntvariantQTY,ntvariantInventory,Isavailable){Isavailable?ntvariantQTY<=0&&ntvariantInventory?_InventoryStock.html('<span class="txt_status_stock txt_preoder">'+ntv_txt_preoder+"</span>"):ntvariantQTY==1?_InventoryStock.html('<span class="txt_status_stock one_stock">'+ntv_txt_oneleft+"</span>"):ntvariantQTY==2?_InventoryStock.html('<span class="txt_status_stock low_stock">'+ntv_txt_lowstock+"</span>"):_InventoryStock.html('<span class="txt_status_stock text_intock">'+ntv_txt_intock+"</span>"):_InventoryStock.html('<span class="txt_status_stock text_soldout">'+ntv_txt_soldout+"</span>")}geckoShopify.Ntproduct_switch=function(variations_form,Arr_MD,product,selector,IdSelect,NtId,callBackVariant,prefix){ntla_ck=nt_settings.ntla_ck,ck_pr_is_ungroup=!0;var variants=product.variants,$variation_form=$(variations_form),ck_so_un=product.ck_so_un,ntsoldout=product.ntsoldout,remove_soldout=product.remove_soldout,size_ops=product.options.length,size_avai=product.size_avai,pr_id=product.id,ArrOP1=[],ArrOP2=[],ArrOP3=[],mdid,index_click=0;if($(NtId+"1 .nt-swatch").each(function(index){ArrOP2.push($(this).data("escape")+"")}),$(NtId+"2 .nt-swatch").each(function(index){ArrOP3.push($(this).data("escape")+"")}),ck_so_un&&size_avai.indexOf(0)>-1&&$(NtId+"0 .nt-swatch").each(function(index){size_avai[index]==0&&$(this).addClass("nt_soldout")}),$variation_form.on("click",".swatches-select > .nt-swatch:not(.is-selected):not(.nt_unavailable)",function(e){e.preventDefault(),e.stopImmediatePropagation();var $this=$(this),value=$this.data("value"),CurrentSwatch=$this.closest(".swatch"),opname=CurrentSwatch.data("opname"),id=$this.parent().data("id"),$IdSelect=$(IdSelect),prev_val=index_click?$IdSelect.val():19041994,click_human=e.originalEvent!==void 0;if($this.parent().find(".is-selected").removeClass("is-selected"),$this.parent().find(".is-selected-nt").removeClass("is-selected-nt"),$this.addClass("is-selected"),CurrentSwatch.find(".nt_name_current").addClass("user_choose_js").html($this.data("escape")).css("color",""),$(".nt_lt_fake.opended").removeClass("opended"),!($(callBackVariant+" .variations .nt-swatch.is-selected").length<size_ops)){switch(index_click++,$variation_form.find(".js_frm_cart").removeClass("disabled").removeAttr("disabled"),geckoShopify.HideNotices(),size_ops){case 2:var escape0=$(NtId+"0 .is-selected").data("escape")+"",escape1=$(NtId+"1 .is-selected").data("escape")+"",variant=getVariantFromOptions(variants,escape0,escape1,null);if($IdSelect.val(variant.id),ck_so_un){var availableOptions=getVariantFromSize(1,remove_soldout,variants,escape0),getval=$IdSelect.val(),i,l=availableOptions.length;for((getval===null||getval==="")&&($(NtId+"1 .is-selected, "+NtId+"2 .is-selected").removeClass("is-selected"),$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(availableOptions[0].option2)).addClass("is-selected"),escape1=$(NtId+"1 .is-selected").data("escape"),variant=getVariantFromOptions(variants,escape0,escape1,null),$IdSelect.val(variant.id)),ntsoldout&&!remove_soldout?$(NtId+"1 .nt-swatch").addClass("nt_unavailable nt_soldout"):$(NtId+"1 .nt-swatch").addClass("nt_unavailable"),i=0;i<l;i++){var ntvariant=availableOptions[i];ntsoldout&&!remove_soldout&&ntvariant.available?$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(ntvariant.option2)).removeClass("nt_soldout nt_unavailable"):$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(ntvariant.option2)).removeClass("nt_unavailable")}}break;case 3:var escape0=$(NtId+"0 .is-selected").data("escape")+"",escape1=$(NtId+"1 .is-selected").data("escape")+"",escape2=$(NtId+"2 .is-selected").data("escape")+"",variant=getVariantFromOptions(variants,escape0,escape1,escape2);if($IdSelect.val(variant.id),ck_so_un){var availableOptions=getVariantFromSize(1,remove_soldout,variants,escape0),availableOptions2=getVariantFromSize(2,remove_soldout,variants,escape0,escape1),getval=$IdSelect.val(),i,l=availableOptions.length,i2,l2=availableOptions2.length;for((getval===null||getval==="")&&(l2>0?($(NtId+"2 .nt-swatch").removeClass("is-selected"),$(NtId+"2 .nt-swatch").eq(ArrOP3.indexOf(availableOptions2[0].option3)).addClass("is-selected"),escape2=$(NtId+"2 .is-selected").data("escape")):($(NtId+"1 .is-selected, "+NtId+"2 .is-selected").removeClass("is-selected"),$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(availableOptions[0].option2)).addClass("is-selected"),$(NtId+"2 .nt-swatch").eq(ArrOP3.indexOf(availableOptions[0].option3)).addClass("is-selected"),escape1=$(NtId+"1 .is-selected").data("escape"),escape2=$(NtId+"2 .is-selected").data("escape"),availableOptions2=getVariantFromSize(2,remove_soldout,variants,escape0,escape1),l2=availableOptions2.length),variant=getVariantFromOptions(variants,escape0,escape1,escape2),$IdSelect.val(variant.id)),ntsoldout&&!remove_soldout?$(NtId+"1 .nt-swatch, "+NtId+"2 .nt-swatch").addClass("nt_unavailable nt_soldout"):$(NtId+"1 .nt-swatch, "+NtId+"2 .nt-swatch").addClass("nt_unavailable"),i=0;i<l;i++){var ntvariant=availableOptions[i];ntsoldout&&!remove_soldout&&ntvariant.available?$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(ntvariant.option2)).removeClass("nt_soldout nt_unavailable"):$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(ntvariant.option2)).removeClass("nt_unavailable")}for(i2=0;i2<l2;i2++){var ntvariant=availableOptions2[i2];ntsoldout&&!remove_soldout&&ntvariant.available?$(NtId+"2 .nt-swatch").eq(ArrOP3.indexOf(ntvariant.option3)).removeClass("nt_soldout nt_unavailable"):$(NtId+"2 .nt-swatch").eq(ArrOP3.indexOf(ntvariant.option3)).removeClass("nt_unavailable")}}break;default:var escape0=$(NtId+"0 .is-selected").data("escape")+"",variant=getVariantFromOptions(variants,escape0,null,null);$IdSelect.val(variant.id)}variant.featured_media&&(mdid=variant.featured_media.id),qvscrollTop=$(str_qv).scrollTop(),updateGroupVariant(selector,opname,value,prefix,mdid),prev_val!=$IdSelect.val()&&selectCallback(variant,selector,IdSelect,size_ops,callBackVariant,NtId,prefix,pr_id,click_human,pr_incoming_mess,use_notify_me,save_js,enableHistoryState)}}),!!use_clicking_vimg){$(NtId+"0 .nt-swatch").each(function(index){ArrOP1.push($(this).data("escape")+"")});var $carouselMain=$(".p-thumb"+prefix+".flickityt4s-enabled");$carouselMain.length!=0&&$carouselMain.on("select.flickityt4s",function(event,index){if(!($(callBackVariant+" .variations .nt-swatch.is-selected").length<size_ops)){var current_mid=$carouselMain.find(".flickityt4s-slider .js-sl-item").eq(index).data("mdid");if(!(mdid==current_mid||Arr_MD.indexOf(current_mid)<0)){if(mdid=current_mid,remove_soldout)var arr_curent_var=$.grep(variants,function(v2,i){if(v2.featured_media!=null)return v2.featured_media.id===mdid&&v2.available});else var arr_curent_var=$.grep(variants,function(v2,i){if(v2.featured_media!=null)return v2.featured_media.id===mdid});if(arr_curent_var.length!=0){var v=arr_curent_var[0];size_ops==3?($(NtId+"0 .is-selected, "+NtId+"1 .is-selected, "+NtId+"2 .is-selected").removeClass("is-selected"),$(NtId+"0 .nt-swatch").eq(ArrOP1.indexOf(v.option1)).addClass("is-selected"),$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(v.option2)).addClass("is-selected"),$(NtId+"2 .nt-swatch").eq(ArrOP3.indexOf(v.option3)).removeClass("nt_unavailable").click()):size_ops==2?($(NtId+"0 .is-selected, "+NtId+"1 .is-selected").removeClass("is-selected"),$(NtId+"0 .nt-swatch").eq(ArrOP1.indexOf(v.option1)).addClass("is-selected"),$(NtId+"1 .nt-swatch").eq(ArrOP2.indexOf(v.option2)).removeClass("nt_unavailable").click()):($(NtId+"0 .is-selected").removeClass("is-selected"),$(NtId+"0 .nt-swatch").eq(ArrOP1.indexOf(v.option1)).removeClass("nt_unavailable").click())}}}})}};function updateGroupVariant(selector,opname,value,prefix,mdid){if(!(!use_vimg||selector=="#cart-form_qs")){var parent='[data-featured-product-se][data-id="'+prefix+'"] .p-thumb';if(prefix=="_qv"&&(parent=parent+"_qv"),!($(parent+' [data-grname="not4"]').length==$(parent+" [data-grname]").length||$(parent+' [data-grname="'+opname+'"]').length==0)){ck_pr_is_ungroup=!1;var parent_pnav='[data-featured-product-se][data-id="'+prefix+'"] .p-nav';if($(parent+" .js-sl-item,"+parent_pnav+" .js-sl-item").addClass("is_varhide"),$(parent+' [data-grname="opnt4"], '+parent+' [data-grname="'+opname+'"][data-grpvl="'+value+'"],'+parent_pnav+' [data-grname="opnt4"],'+parent_pnav+' [data-grname="'+opname+'"][data-grpvl="'+value+'"]').removeClass("is_varhide"),selector=="#cart-form_ppr"&&$(".p-thumb.isotope_ok").length>0)$(".last_visible").removeClass("last_visible"),$(".js-sl-item:visible:last").addClass("last_visible"),$(".p-thumb.isotope_ok").isotope();else{var flkty=JSON.parse($(parent+".flickityt4s-enabled").attr("data-flickityt4s-js")||"{}"),flkty2=JSON.parse($(parent_pnav+".flickityt4s-enabled").attr("data-flickityjs")||"{}");$(parent+".flickityt4s-enabled").flickityt4s("destroy").flickityt4s(flkty),$(parent_pnav+".flickityt4s-enabled").flickityt4s("destroy").flickityt4s(flkty2).removeClass("p-nav-ready"),$(str_qv).scrollTop(qvscrollTop),setTimeout(function(){var index=$('[data-mdid="'+mdid+'"]').index();index<0&&(index=0),$(parent+".flickityt4s-enabled").flickityt4s("select",index,!1,!0),$(parent_pnav).addClass("p-nav-ready")},50)}}}}var will_not_ship=nt_settings.will_not_ship,will_stock_after=nt_settings.will_stock_after;function selectCallback(variant,selector,IdSelect,size,callBackVariant,NtId,prefix,pr_id,human,pr_incoming_mess2,use_notify_me2,save_js2,enableHistoryState2){var selectorCurent=$(selector),IdSelectCurent=$(IdSelect),callCurent=$(callBackVariant),$qtyElements="#sp_qty"+prefix,outofstock="#out_stock"+prefix,$txt_in="#txt_vl_in"+prefix,$txt_out="#txt_vl_out"+prefix,sku=$("#pr_sku"+prefix),sku_na=$("#pr_sku_na"+prefix),bcode=$("#pr_bcode"+prefix),bcode_na=$("#pr_bcode_na"+prefix),$nt_stock=$("#nt_stock"+prefix),$delivery=$("#delivery"+prefix),$delivery_pre=$("#delivery"+prefix+'[data-hidepre="true"]'),$nt_countdow=$("#nt_countdow"+prefix+"_txt"),addToCart=callBackVariant+" .single_add_to_cart_button",$payment_btn=callBackVariant+" .shopify-payment-button",$variantQuantity=callCurent.find(".variantQuantity"),$productPrice=$(callBackVariant+" .price_varies, #price"+prefix+" .price_varies"),$unit_price=$(callBackVariant+" .unit_price, #price"+prefix+" .unit_price"),$unit_base=$(callBackVariant+" .unit_base, #price"+prefix+" .unit_base"),$frm_notify_pr=$("#frm_notify"+prefix),$productsku=$("#productSku"+prefix),$input=callCurent.find(".quantity .qty"),$addToCart=callCurent.find(".single_add_to_cart_button"),$add_text=$addToCart.find(".txt_add"),$pre_text=$addToCart.find(".txt_pre"),$qty_mess=$("#pr_qty_mess"+prefix),$incoming_mess=$("#pr_incoming_mess"+prefix),$in_stock=$($txt_in).find(".js_in_stock"),$in_stock_preoder=$($txt_in).find(".js_in_stock_pre_oder"),sticky_atc_wrap=$(".sticky_atc_wrap"),bl_atc_sticky=selector=="#cart-form_ppr"&&$("[data-select-sticky_atc]").length>0,js_sticky_qty=$(".js_sticky_qty"),js_sticky_sl=$(".js_sticky_sl"),js_fgr_img=$(".js_fgr_img"),sticky_atc_price=$(".sticky_atc_price"),sticky_atc_js=$(".sticky_atc_js"),storeAvailabilityContainer=$("#store_availability"+prefix),val_0=$(NtId+"0 .is-selected").data("value"),val_1=$(NtId+"1 .is-selected").data("value"),val_2=$(NtId+"2 .is-selected").data("value");if(size==2?(callCurent.attr("class","nt_"+val_0),callCurent.addClass("nt1_"+val_1)):size==3&&(callCurent.attr("class","nt_"+val_0),callCurent.addClass("nt1_"+val_1),callCurent.addClass("nt2_"+val_2)),$(NtId+"0 .nt_name_current").html(variant.option1),$(NtId+"1 .nt_name_current").html(variant.option2),$(NtId+"2 .nt_name_current").html(variant.option3),variant){var variant_qty=variant.inventory_quantity,variant_management=variant.inventory_management;if(variant.available){geckoShopify._updateStoreAvailabilityContent(storeAvailabilityContainer,!0,variant.id),$($qtyElements+","+addToCart+","+$payment_btn+","+$txt_in).css("display","inline-block"),$delivery.css("display","block"),$(outofstock+","+$txt_out).css("display","none"),$frm_notify_pr.slideUp(250),$incoming_mess.hide();var qty,ck_qty=!1,qty_mess=$nt_stock.data("st"),ck_inventory=$nt_stock.data("qty");(qty_mess==1||qty_mess==3)&&variant_management&&variant_qty<ck_inventory&&variant_qty>0?($nt_stock.trigger("cleart"),geckoShopify.progressbar("#nt_stock"+prefix,variant_qty),$nt_stock.slideDown(250),$nt_stock.attr("data-cur",variant_qty),qty=$nt_stock.find(".count").text(),ck_qty=!0):ck_qty&&(qty_mess==2||qty_mess==3)?($nt_stock.trigger("cleart"),geckoShopify.progressbar("#nt_stock"+prefix,qty),$nt_stock.attr("data-cur",qty),$nt_stock.slideDown(250),ck_qty=!1):qty_mess==1?($nt_stock.trigger("cleart"),$nt_stock.slideUp(250)):$nt_stock.slideDown(250),$nt_countdow.slideDown(250),pr_incoming_mess2&&variant_management&&variant_qty<=0&&variant.incoming&&($incoming_mess.html(will_not_ship),$incoming_mess.find(".jsnt").text(variant.next_incoming_date),$incoming_mess.show());var ck_pre_order=variant_qty<=0&&variant_management!=null;ck_pre_order?($delivery_pre.css("display","none"),$add_text.hide(),$pre_text.show(),$in_stock.hide(),$in_stock_preoder.show()):($pre_text.hide(),$add_text.show(),$in_stock_preoder.hide(),$in_stock.show()),ck_pre_order?($input.attr("max",9999),bl_atc_sticky&&js_sticky_qty.attr("max",9999)):variant_management!=null?($input.attr("max",variant_qty).val(1).attr("value",1),bl_atc_sticky&&js_sticky_qty.attr("max",variant_qty).val(1).attr("value",1)):($input.attr("max",9999),bl_atc_sticky&&js_sticky_qty.attr("max",9999)),bl_atc_sticky&&updateSticky_atc(variant,sticky_atc_js,js_sticky_sl,js_fgr_img,sticky_atc_price)}else if(geckoShopify._updateStoreAvailabilityContent(storeAvailabilityContainer,!1),$nt_stock.slideUp(250),$nt_countdow.slideUp(250),$delivery.css("display","none"),$($qtyElements+","+addToCart+","+$payment_btn+","+$txt_in).css("display","none"),$(outofstock+","+$txt_out).css("display","inline-block"),$incoming_mess.hide(),pr_incoming_mess2&&variant_management&&variant_qty<=0&&variant.incoming&&($incoming_mess.html(will_stock_after),$incoming_mess.find(".jsnt").text(variant.next_incoming_date),$incoming_mess.show()),use_notify_me2){$frm_notify_pr.slideDown(350);var text=$frm_notify_pr.find("textarea").text();$frm_notify_pr.find("textarea").text(text.replace("[variant]",variant.title).replace("[url]","?variant="+variant.id))}var customPrice=geckoShopify.formatMoney(variant.price),_slpr=$("#product"+prefix.replace("_ppr","").replace("_","")+"-"+pr_id),_onsale=_slpr.find(".onsale"),_saletxt=_slpr.find(".txt_sale"),txt_sale=_slpr.find(".price_range").attr("data-txtsale");if(variant.compare_at_price>variant.price){var comparePrice=geckoShopify.formatMoney(variant.compare_at_price),customPriceFormat="<del>"+comparePrice+"</del> <ins>"+customPrice+"</ins>";customPriceFormat+=' <span class="onsale fs__14 tu dib cw pr_onsale hide"><span></span></span>',customPriceFormat+='<span class="txt_sale hide"></span>',$productPrice.html(customPriceFormat);var save=(variant.compare_at_price-variant.price)*100/variant.compare_at_price;_onsale.find(">span").html(save_js2.replace("[sale]",Math.round(save))),_onsale.show(),txt_sale=="1"?_saletxt.html(save2_js.replace("[sale]",Math.round(save))):txt_sale=="2"&&(save=variant.compare_at_price-variant.price,save=geckoShopify.formatMoney(save),_saletxt.html(save3_js.replace("[sale]",save)))}else $productPrice.html(customPrice),_onsale.hide();if(variant.unit_price&&($unit_price.html(geckoShopify.formatMoney(variant.unit_price)),$unit_base.html(getBaseUnit(variant))),body.trigger("refresh_currency"),variant.sku?(sku_na.css("display","none"),sku.text(variant.sku).css("display","inline-block")):(sku.css("display","none"),sku_na.css("display","inline-block")),variant.barcode?(bcode_na.css("display","none"),bcode.text(variant.barcode).css("display","inline-block")):(bcode.css("display","none"),bcode_na.css("display","inline-block")),variant.featured_media&&!ntla_ck){var id=variant.featured_media.id,$img=$('.p-thumb [data-mdid="'+id+'"]').first();$img.length==1&&selector=="#cart-form_ppr"&&$(".p-thumb.isotope_ok").length>0?ck_pr_is_ungroup&&updateImageVariantPositionIsotope($img):updateImageVariantPositionSlider(selector,id,human,prefix)}(human||ntla_ck)&&(ntla_ck=!1),enableHistoryState2&&selector=="#cart-form_ppr"&&_updateHistoryState(variant)}$(document).trigger("variant:change",variant)}function getCurrentOptions(val1,val2,val3){}function getVariantFromSize(size,bl,variants,vl0,vl1,vl2){if(size==0)var found=$.grep(variants,function(v,i){return v.available==!1});else if(size==2&bl)var found=$.grep(variants,function(v,i){return v.option1==vl0&&v.option2==vl1&&v.available});else if(bl)var found=$.grep(variants,function(v,i){return v.option1==vl0&&v.available});else if(size==2)var found=$.grep(variants,function(v,i){return v.option1==vl0&&v.option2==vl1});else var found=$.grep(variants,function(v,i){return v.option1==vl0});return found||"nathan"}function getVariantFromOptions(variants,vl0,vl1,vl2){var found=$.grep(variants,function(v,i){return v.option1==vl0&&v.option2==vl1&&v.option3==vl2});return found[0]||"nathan"}function getBaseUnit(variant){return variant.unit_price_measurement.reference_value===1?variant.unit_price_measurement.reference_unit:variant.unit_price_measurement.reference_value+variant.unit_price_measurement.reference_unit}function _updateHistoryState(variant){if(!(!history.replaceState||!variant)){var newurl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+variant.id;window.history.replaceState({path:newurl},"",newurl)}}function StoreAvailability(selector,variantId){var this_0=selector[0],hidden="hide";function updateContent(){var store_avai_length=$(".store_availabilities_modal.act_opened").length,variantSectionUrl=this_0.dataset.baseUrl+"variants/"+variantId+"/?section_id=store-availability",hasOnlyDefaultVariant=this_0.dataset.hasOnlyDefaultVariant==="true";selector.find(".push_side.act_current").trigger("click"),this_0.style.opacity=.5,fetch(variantSectionUrl).then(function(response){return response.text()}).then(function(storeAvailabilityHTML){storeAvailabilityHTML.trim()===""||$(storeAvailabilityHTML).find(".store-availability-container").length==0||(selector.slideUp(10),this_0.innerHTML=storeAvailabilityHTML,this_0.innerHTML=this_0.firstElementChild.innerHTML,this_0.style.opacity=1,selector.slideDown(350),_updateProductTitle(),hasOnlyDefaultVariant&&_hideVariantTitle(),store_avai_length>0&&setTimeout(function(){selector.find(".push_side").trigger("click")},250))})}function clearContent(){this_0.innerHTML=""}function _updateProductTitle(){selector.find("[data-store-availability-modal-product-title]").text(this_0.dataset.productTitle)}function _hideVariantTitle(){selector.find("[data-store-availability-modal-variant-title]").addClass(hidden)}return{updateContent:updateContent,clearContent:clearContent}}geckoShopify._updateStoreAvailabilityContent=function(selector,bl,variantId){selector.length!=0&&(bl?StoreAvailability(selector,variantId).updateContent():StoreAvailability(selector).clearContent())};function updateImageVariantPositionIsotope($img){var live_stuck_h=$(".ntheader.live_stuck .sp_header_mid").outerHeight()||0;geckoShopify.isVisible($img)||$("html, body").animate({scrollTop:$img.offset().top-live_stuck_h-30},250),$(".p-thumb.isotope_ok").one("arrangeComplete",function(){geckoShopify.isVisible($img)||$("html, body").animate({scrollTop:$img.offset().top-live_stuck_h-30},80)})}function updateImageVariantPositionSlider(selector,id,human,prefix){var parent=".p-thumb"+prefix;selector=="#cart-form_ppr"?parent=".p-thumb":selector=="#cart-form_qv"?parent=".nt_carousel_qv":selector=="#cart-form_qs"&&(parent=".nt_carousel_qs"),!(parent.length<1)&&$(parent+".flickityt4s-enabled").flickityt4s("selectCell",'[data-mdid="'+id+'"]',!1,human)}function updateSticky_atc(variant,sticky_atc_js,js_sticky_sl,js_fgr_img,sticky_atc_price){sticky_atc_js.removeClass("disabled"),js_sticky_sl.val(variant.id);var op_cked=js_sticky_sl.find("option:checked"),ogprice=op_cked.data("ogprice"),price=op_cked.data("price"),img=op_cked.data("img");$(".sticky_atc_a").html(op_cked.text()),js_fgr_img.attr("src",img.replace("1x1","75x")).attr("srcset",img.replace("1x1","75x")+" 75w,"+img.replace("1x1","150x")+" 150w"),ogprice>price?sticky_atc_price.html("<del>"+geckoShopify.formatMoney(ogprice)+"</del> <ins>"+geckoShopify.formatMoney(price)+"</ins>"):sticky_atc_price.html(geckoShopify.formatMoney(price)),body.trigger("refresh_currency"),variant.inventory_quantity<=0&&variant.available&&variant.inventory_management!=null?($(".sticky_atc_js .txt_add").hide(),$(".sticky_atc_js .txt_pre").show()):($(".sticky_atc_js .txt_pre").hide(),$(".sticky_atc_js .txt_add").show())}geckoShopify.NtproductPage=function(pr_id){if($("#ProductJson-template"+pr_id).html()){var productJson=JSON.parse($("#ProductJson-template"+pr_id).html()),incomingJson=JSON.parse($("#ProductJson-incoming"+pr_id).html()),IdSelect="#product-select"+pr_id,NtId="#nt_select"+pr_id+"_",selector="#cart-form"+pr_id,callBackVariant="#callBackVariant"+pr_id,prefix=""+pr_id,i,variant,Arr_MD=[];productJson.ck_so_un=incomingJson.ck_so_un,productJson.ntsoldout=incomingJson.ntsoldout,productJson.unvariants=incomingJson.unvariants,productJson.remove_soldout=incomingJson.remove_soldout,productJson.size_avai=incomingJson.size_avai,productJson.tt_size_avai=incomingJson.tt_size_avai;for(i in incomingJson.variants)variant=incomingJson.variants[i],productJson.variants[i].incoming=variant.incoming,productJson.variants[i].next_incoming_date=variant.next_incoming_date,productJson.variants[i].inventory_quantity=variant.inventory_quantity,Arr_MD.push(variant.mdid);if(geckoShopify.Ntproduct_switch(".variations_form"+pr_id,Arr_MD,productJson,selector,IdSelect,NtId,callBackVariant,prefix),nt_settings.pr_curent!=="1"||$("#cart-form_ppr .is-selected-nt").length>0){if($("#nt_select"+pr_id+"_1 .is-selected-nt, #nt_select"+pr_id+"_2 .is-selected-nt").addClass("is-selected").removeClass("is-selected-nt"),$("#nt_select"+pr_id+"_0 .is-selected-nt").click().removeClass("is-selected-nt"),!use_vimg)return;$("#nt_select"+pr_id+"_1 .is-selected,#nt_select"+pr_id+"_2 .is-selected").removeClass("is-selected").click()}}},geckoShopify.ajaxAddItem=function(){body.on("click",".js_addtc",function(e){e.preventDefault();var _this2=$(this),vid=_this2.data("id"),qty=_this2.data("qty")||1,arr_items=[],puntos=_this2.data("points");console.log("puntos",puntos),puntos?arr_items.push({id:vid,quantity:qty,properties:{_club_masglo_puntos:puntos.toString(),_club_masglo_plata:"0"}}):arr_items.push({id:vid,quantity:qty}),_this2.addClass("loading"),$ld.trigger("ld_bar_star"),addItem(arr_items)}),$(".sticky_atc_js").on("click",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return geckoShopify.CreatNotices(PleaseChoosePrOptions),$("#callBackVariant_ppr .nt_name_current:not(.user_choose_js)").css("color","#ec0101"),$(".sticky_atc_a").trigger("click"),!1;var _this2=$(this),vid=parseInt($(".js_sticky_sl").val()),qty=parseInt($(".js_sticky_qty").val())||1,arr_items=[];arr_items.push({id:vid,quantity:qty}),_this2.addClass("loading"),$ld.trigger("ld_bar_star"),addItem(arr_items)}),body.on("click",".js_frm_cart",function(e){e.preventDefault();var _this2=$(this),frmId=_this2.closest("form");if(_this2.hasClass("disabled"))return geckoShopify.CreatNotices(PleaseChoosePrOptions),frmId.find(".nt_name_current:not(.user_choose_js)").css("color","#ec0101"),!1;_this2.addClass("loading"),$ld.trigger("ld_bar_star"),addItemFrom(frmId)}),body.on("click",".js_add_group",function(e){e.preventDefault();var _this2=$(this),frmId=_this2.closest("form");_this2.addClass("loading"),$ld.trigger("ld_bar_star"),addItemFrom(frmId)})},geckoShopify.stickyAddToCart=function(){var $trigger=$(".entry-summary .variations_form"),$stickyBtn=$(".sticky_atc_wrap");if(!($stickyBtn.length<=0||$trigger.length<=0||window_w<768&&$stickyBtn.hasClass("mobile_false"))){var summaryOffset=$trigger.offset().top+$trigger.outerHeight(),$selector=$(".sticky_atc_wrap, #nt_backtop"),slpr_wrap=$(".popup_slpr_wrap"),$window=$(window),$document=$(document),stickyAddToCartToggle=function(){var windowScroll=$window.scrollTop(),windowHeight=$window.height(),documentHeight=$document.height(),totalScroll=parseInt(windowScroll+windowHeight)+60;summaryOffset<windowScroll&&totalScroll!==documentHeight&&totalScroll<documentHeight?($selector.addClass("sticky_atc_shown"),slpr_wrap.addClass("sticky_atc_shown")):(totalScroll===documentHeight||totalScroll>documentHeight||summaryOffset>windowScroll)&&($selector.removeClass("sticky_atc_shown"),slpr_wrap.removeClass("sticky_atc_shown"))};stickyAddToCartToggle(),$window.scroll(stickyAddToCartToggle),$(".sticky_atc_a").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(".entry-summary").offset().top},800)}),$(".sticky_atc_wrap .qty").on("change",function(){$("#sp_qty_ppr .qty").val($(this).val())}),$("#sp_qty_ppr .qty").on("change",function(){$(".sticky_atc_wrap .qty").val($(this).val())})}},geckoShopify.ajaxfgr=function(){$(".js_grp_vid").length!=0&&$(".js_grp_vid").change(function(e){var _this2=$(this),sl=_this2.closest(".js_item_group"),op_cked=_this2.find("option:checked"),ogprice=op_cked.data("ogprice"),price=op_cked.data("price"),qty=op_cked.data("qty"),$qty=sl.find(".js_grp_qty"),img=op_cked.data("img"),img_url="115x";sl.find("img").attr("src",img.replace("1x1",img_url)).attr("srcset",img.replace("1x1",img_url)+" 1x,"+img.replace("1x1",img_url+"@2x")+" 2x"),ogprice>price?sl.find(".js_price_group").attr("data-ogprice",ogprice).attr("data-price",price).html("<del>"+geckoShopify.formatMoney(ogprice)+"</del> <ins>"+geckoShopify.formatMoney(price)+"</ins>"):sl.find(".js_price_group").attr("data-ogprice",ogprice).attr("data-price",price).html(geckoShopify.formatMoney(price)),$qty.attr("max",qty),qty<$qty.val()&&$qty.val(qty);var fgr_frm=_this2.closest(".fgr_frm");fgr_frm.length<1||(subtt_price_group(fgr_frm),body.trigger("refresh_currency"))})};function subtt_price_group(fgr_frm){var js_item_group=fgr_frm.find(".js_item_group.item_group_true"),grp_subtt_js=fgr_frm.find(".grp_subtt_js"),js_add_group=fgr_frm.find(".js_add_group"),total_price=0,total_ogprice=0;js_item_group.each(function(){var _this2=$(this),qty=_this2.find(".qty_pr_js").val(),_price=_this2.find(".js_price_group"),price=_price.attr("data-price"),ogprice=_price.attr("data-ogprice")||price;total_price=total_price+qty*price,total_ogprice=total_ogprice+qty*ogprice}),total_ogprice>total_price?grp_subtt_js.html("<del>"+geckoShopify.formatMoney(total_ogprice)+"</del> <ins>"+geckoShopify.formatMoney(total_price)+"</ins>"):grp_subtt_js.html(geckoShopify.formatMoney(total_price)),total_price>0?js_add_group.removeAttr("disabled"):js_add_group.attr("disabled",!0)}geckoShopify.ajaxFbt=function(){if($(".js_fbt_ck").length==0)return;var time,clbtn=$(".js_fpt_clbtn"),tt_price=$(".kl_fbt_tt_price"),ogprice_old,price_old;$(".kl_fbt_li>label").click(function(e){clearTimeout(time);var frm=$(this).closest(".kl_fbt_li"),sl=$(frm.data("sl")),fbt_input=frm.find(".js_fbt_input"),fbt_sl=frm.find(".js_fbt_sl"),grp_qty=frm.find(".js_grp_qty");time=setTimeout(function(){frm.find(".js_fbt_ck").is(":checked")?(frm.addClass("kl_fbt_checked"),sl.fadeIn(300),fbt_update(fbt_sl,fbt_input,!0),clbtn.fadeTo(0,0).fadeTo(300,1),fbt_sl.prop("disabled",!1),fbt_input.prop("disabled",!1),grp_qty.prop("disabled",!1)):(frm.removeClass("kl_fbt_checked"),sl.fadeOut(300),fbt_update(fbt_sl,fbt_input,!1),fbt_sl.prop("disabled",!0),fbt_input.prop("disabled",!0),grp_qty.prop("disabled",!0),clbtn.fadeOut(300,function(){clbtn.fadeIn(300)}))},100)}),$(".js_fbt_sl").off("mousedown click").on("mousedown click",function(e){var _this2=$(this),op_cked=_this2.find("option:checked");ogprice_old=op_cked.data("ogprice"),price_old=op_cked.data("price")}).on("change",function(e){var _this2=$(this),fbt_li=_this2.closest(".kl_fbt_li"),fbt_price=fbt_li.find(".kl_fbt_price"),op_cked=_this2.find("option:checked"),ogprice=op_cked.data("ogprice"),price=op_cked.data("price"),img=op_cked.data("img"),sl=$(fbt_li.data("sl")),img_url="115x";sl.find("img").attr("src",img.replace("1x1",img_url)).attr("srcset",img.replace("1x1",img_url)+" 1x,"+img.replace("1x1",img_url+"@2x")+" 2x");var a=ogprice_old-ogprice,b=price_old-price;ogprice>price?fbt_price.html("<del>"+geckoShopify.formatMoney(ogprice)+"</del> <ins>"+geckoShopify.formatMoney(price)+"</ins>"):fbt_price.html(geckoShopify.formatMoney(price)),tt_update(a,b,!1)});function fbt_update(fbt_sl,fbt_input,bl){if(fbt_sl.length>0){var op_cked=fbt_sl.find("option:checked"),ogprice=op_cked.attr("data-ogprice"),price=op_cked.attr("data-price");tt_update(ogprice,price,bl)}else{var ogprice=fbt_input.attr("data-ogprice"),price=fbt_input.attr("data-price");tt_update(ogprice,price,bl)}}function tt_update(ogprice,price,bl){if(bl)var cppr=parseInt(tt_price.attr("data-cppr"))+parseInt(ogprice),pr=parseInt(tt_price.attr("data-pr"))+parseInt(price);else var cppr=parseInt(tt_price.attr("data-cppr"))-parseInt(ogprice),pr=parseInt(tt_price.attr("data-pr"))-parseInt(price);tt_price.attr("data-cppr",cppr),tt_price.attr("data-pr",pr),cppr>pr?tt_price.html("<del>"+geckoShopify.formatMoney(cppr)+"</del> <ins>"+geckoShopify.formatMoney(pr)+"</ins>"):tt_price.html(geckoShopify.formatMoney(pr)),body.trigger("refresh_currency")}},geckoShopify.ajaxchangeItem=function(el){nt_js_cart=el||nt_js_cart,body.hasClass("min_cqty_1")&&nt_js_cart.on("keyup",".qty_cart_js",function(e){var _this2=$(this),prev=_this2.data("val"),qty=_this2.val()||1,min=_this2.attr("min")||0;parseInt(qty)<parseInt(min)&&(_this2.data("val",$(this).val()),_this2.val(prev))}),nt_js_cart.on("focusin",".qty_cart_js",function(){$(this).data("val",$(this).val())}).on("change",".qty_cart_js",function(e){var _this2=$(this),_item=_this2.closest(".js_cart_item"),_frm=_this2.closest("form.nt_js_cart"),vid=_this2.data("id"),qty=_this2.val()||1,max=_this2.attr("max")||9999;if(_this2.parent().find(".minus").removeClass(function(index,css){return(css.match(/(^|\s)qty_\S+/g)||[]).join(" ")}).addClass("qty_"+qty),geckoShopify.HideNotices(),parseInt(qty)>parseInt(max)){if(qty=max,_this2.val(qty),nt_settings.disOnlyStock)return;var txt=$("#js_we_stcl").text()||"Not enough items available. Only [max] left.";return geckoShopify.CreatNotices(txt.replace("[max]",max)),!1}_frm.hasClass("frm_cart_ajax_false")||(nt_js_cart.addClass("ld_nt_cl"),_item.find(".ld_cart_bar").addClass("on_star"),changeItem(vid,qty,_item))}),nt_js_cart.on("click",".js_cart_rem",function(e){if(!$(this).closest("form.nt_js_cart").hasClass("frm_cart_ajax_false")){e.preventDefault();var vid=$(this).data("id"),qty=0,_item=$(this).closest(".js_cart_item");nt_js_cart.addClass("ld_nt_cl"),_item.find(".ld_cart_bar").addClass("on_star"),changeItem(vid,qty,_item)}}),nt_js_cart.on("change",'textarea[name="note"]',function(){var newNote=$(this).val();geckoShopify.updateCartNote(newNote)}),geckoShopify.cookiesEnabled()||$(".cookie-message").show()};var Sections_nt="cart_js";function addItem(items,_this2){var formData={items:items,sections:Sections_nt};fetch(cartAddUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData)}).then(function(response){return response.json()}).then(function(line_item){if(line_item.status&&line_item.status!==200){var error=new Error(line_item.description);throw error.isFromServer=!0,error}if(line_item.items==null)var id=19041994;else var id=line_item.items[0].product_id;if(geckoShopify.onCartUpdate(1,1,line_item.sections.cart_js,id),miniCartUpsell(id),id!="19041994"){var el=$('.nt_stock_page[data-prid="'+id+'"]'),qty=line_item.quantity;geckoShopify.progressbarUpdateATC(el,qty)}body.trigger("CartUpdateSuccess")}).catch(function(error){$(".js_addtc.loading").removeClass("loading"),geckoShopify.onError2(error)})}/*!
 * Serialize all form data into a SearchParams string
 * (c) 2020 Chris Ferdinandi, MIT License, https://gomakethings.com
 * @param  {Node}   form The form to serialize
 * @return {String}      The serialized form data
 */function serializet4(form){var arr=[];return Array.prototype.slice.call(form.elements).forEach(function(field){if(!(!field.name||field.disabled||["file","reset","submit","button"].indexOf(field.type)>-1)){if(field.type==="select-multiple"){Array.prototype.slice.call(field.options).forEach(function(option){option.selected&&arr.push(encodeURIComponent(field.name)+"="+encodeURIComponent(option.value))});return}["checkbox","radio"].indexOf(field.type)>-1&&!field.checked||arr.push(encodeURIComponent(field.name)+"="+encodeURIComponent(field.value))}}),arr.join("&")}var _cart_upsell=$("[data-cart-upsell-js]"),_cart_upsell_length=_cart_upsell.length;function miniCartUpsell(id){if(id==19041994&&(id=_cart_upsell.data("id")),!(_cart_upsell_length==0||id.length==0)){var limit=_cart_upsell.data("limit"),baseUrl=_cart_upsell.data("baseurl"),url=baseUrl+"?section_id=mini_cart_upsell&product_id="+id+"&limit="+limit;fetch(url).then(function(response){return response.text()}).then(function(section){var recommendationsMarkup=$(section).html();if(recommendationsMarkup.trim()!==""){_cart_upsell.html(recommendationsMarkup),body.trigger("refresh_currency");var _el=_cart_upsell.find("[data-flickityt4s-js]");_el.length!=0&&(geckoShopify.refresh_flickity(_el),setTimeout(function(){_el.flickityt4s("reloadCells")},250),setTimeout(function(){_el.flickityt4s("reloadCells")},500))}})}}function addItemFrom(form_id,_this2){var clicked_ed_js=$(".cart_ac_edit.clicked_ed_js");function addFetchFrom(form_id2,_this3){fetch(cartAddUrl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:serializet4(form_id2[0])+"&sections="+Sections_nt}).then(function(response){return response.json()}).then(function(line_item){if(line_item.status&&line_item.status!==200){var error=new Error(line_item.description);throw error.isFromServer=!0,error}var id=19041994;if(line_item.product_id!=null?id=line_item.product_id:line_item.items!=null&&(id=line_item.items[0].product_id),geckoShopify.onCartUpdate(1,1,line_item.sections.cart_js,id),miniCartUpsell(id),id!="19041994"){var el=$('.nt_stock_page[data-prid="'+id+'"]'),qty=line_item.quantity;geckoShopify.progressbarUpdateATC(el,qty)}body.trigger("CartUpdateSuccess")}).catch(function(error){$("button[type=submit].loading").removeClass("loading"),geckoShopify.onError2(error)})}if(clicked_ed_js.length>0&&edit_item=="0"){var request={method:"POST",headers:{"Content-Type":"application/json;"},body:JSON.stringify({id:clicked_ed_js.next().data("id"),quantity:0})};fetch(cartChangeUrl,request).then(function(response){return response.json()}).then(function(cart){$(".jsccount").html(cart.item_count),clicked_ed_js.removeClass("clicked_ed_js"),addFetchFrom(form_id,_this2)}).catch(function(error){console.log("Cart change error: "+error)})}else addFetchFrom(form_id,_this2)}function changeItem(vid,qty,_item){var request={method:"POST",headers:{"Content-Type":"application/json;"},body:JSON.stringify({id:vid,quantity:qty,sections:Sections_nt})};function UpdateBarItem(){_item.find(".ld_cart_bar").addClass("on_end"),setTimeout(function(){_item.find(".ld_cart_bar").attr("class","").addClass("ld_cart_bar"),nt_js_cart.removeClass("ld_nt_cl")},280)}fetch(cartChangeUrl,request).then(function(response){return response.json()}).then(function(cart){if(qty==0)_item.slideUp("250",function(){$(this).remove()});else{var price=_item.find(".qty_cart_js").attr("data-price")*qty;_item.find(".js_tt_price_it").html(geckoShopify.formatMoney(price))}geckoShopify.onCartUpdate(0,0,cart.sections.cart_js),UpdateBarItem(),body.trigger("CartUpdateSuccess CartChangeSuccess")}).catch(function(error){UpdateBarItem(),console.log("cart change error: "+error)})}geckoShopify.updateCartNote=function(note){function attributeToString(attribute){return typeof attribute!="string"&&(attribute+="",attribute==="undefined"&&(attribute="")),$.trim(attribute)}var headers=new Headers({"Content-Type":"application/json"}),note_txt=attributeToString(note),request={method:"POST",headers:headers,body:JSON.stringify({note:note_txt})};fetch("/cart/update.js",request).then(function(response){return response.json()}).then(function(cart){note_txt.length>0?($(".txt_edit_note").show(),$(".txt_add_note").hide()):($(".txt_add_note").show(),$(".txt_edit_note").hide())}).catch(function(error){console.log("cart update error: ",error)})},geckoShopify.onItemAdded=function(line_item,quantity,callback){geckoShopify.GetCartData(1,1)},geckoShopify.WidgetCartUpdateMobile=function(){$(".js_cart_footer").height()<$(window).height()/2||$("#nt_cart_canvas").hasClass("fix_layout_mbt4")||window_w>767||$("#nt_cart_canvas").addClass("fix_layout_mbt4")};var canvas,ctx,W,H,mp=150,particles=[],angle=0,tiltAngle=0,confettiActive=!0,animationComplete=!0,deactivationTimerHandler,reactivationTimerHandler,animationHandler,ck_canvas=!1;geckoShopify.CanvasConfetti=function(id){window.innerWidth<988&&(mp=75);var particleColors={colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor:function(){return this.colorIncrementer>=10&&(this.colorIncrementer=0,this.colorIndex++,this.colorIndex>=this.colorOptions.length&&(this.colorIndex=0)),this.colorIncrementer++,this.colorOptions[this.colorIndex]}};function confettiParticle(color){this.x=Math.random()*W,this.y=Math.random()*H-H,this.r=RandomFromTo(10,30),this.d=Math.random()*mp+10,this.color=color,this.tilt=Math.floor(Math.random()*10)-10,this.tiltAngleIncremental=Math.random()*.07+.05,this.tiltAngle=0,this.draw=function(){return ctx.beginPath(),ctx.lineWidth=this.r/2,ctx.strokeStyle=this.color,ctx.moveTo(this.x+this.tilt+this.r/4,this.y),ctx.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4),ctx.stroke()}}function init(){SetGlobals(),$(window).resize(function(){W=window.innerWidth,H=window.innerHeight,canvas.width=W,canvas.height=H})}function InitializeButton(){}function SetGlobals(){$("body").append('<canvas id="confettiCanvas" style="position:fixed;top:0;left:0;display:none;z-index:9999;pointer-events: none;"></canvas>'),canvas=document.getElementById("confettiCanvas"),ctx=canvas.getContext("2d"),W=window.innerWidth,H=window.innerHeight,canvas.width=W,canvas.height=H}function InitializeConfetti(){canvas.style.display="block",particles=[],animationComplete=!1;for(var i=0;i<mp;i++){var particleColor=particleColors.getColor();particles.push(new confettiParticle(particleColor))}StartConfetti()}function Draw(){ctx.clearRect(0,0,W,H);for(var results=[],i=0;i<mp;i++)(function(j){results.push(particles[j].draw())})(i);return Update(),results}function RandomFromTo(from,to){return Math.floor(Math.random()*(to-from+1)+from)}function Update(){var remainingFlakes=0,particle;angle+=.01,tiltAngle+=.1;for(var i=0;i<mp;i++){if(particle=particles[i],animationComplete)return;if(!confettiActive&&particle.y<-15){particle.y=H+100;continue}stepParticle(particle,i),particle.y<=H&&remainingFlakes++,CheckForReposition(particle,i)}remainingFlakes===0&&StopConfetti()}function CheckForReposition(particle,index){(particle.x>W+20||particle.x<-20||particle.y>H)&&confettiActive&&(index%5>0||index%2==0?repositionParticle(particle,Math.random()*W,-10,Math.floor(Math.random()*10)-10):Math.sin(angle)>0?repositionParticle(particle,-5,Math.random()*H,Math.floor(Math.random()*10)-10):repositionParticle(particle,W+5,Math.random()*H,Math.floor(Math.random()*10)-10))}function stepParticle(particle,particleIndex){particle.tiltAngle+=particle.tiltAngleIncremental,particle.y+=(Math.cos(angle+particle.d)+3+particle.r/2)/2,particle.x+=Math.sin(angle),particle.tilt=Math.sin(particle.tiltAngle-particleIndex/3)*15}function repositionParticle(particle,xCoordinate,yCoordinate,tilt){particle.x=xCoordinate,particle.y=yCoordinate,particle.tilt=tilt}function StartConfetti(){W=window.innerWidth,H=window.innerHeight,canvas.width=W,canvas.height=H,function animloop(){return animationComplete?null:(animationHandler=requestAnimFrameT4(animloop),Draw())}()}function ClearTimers(){clearTimeout(reactivationTimerHandler),clearTimeout(animationHandler)}function DeactivateConfetti(){confettiActive=!1,ClearTimers()}function StopConfetti(){animationComplete=!0,ctx!=null&&(ctx.clearRect(0,0,W,H),canvas.style.display="none")}function RestartConfetti(){ClearTimers(),StopConfetti(),reactivationTimerHandler=setTimeout(function(){confettiActive=!0,animationComplete=!1,InitializeConfetti()},100)}return window.requestAnimFrameT4=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),{init:init,start:InitializeConfetti,stop:DeactivateConfetti,restart:RestartConfetti}};function UpdateShipBar(str1,str2,this_thres){if(str1.indexOf("___")!==-1){var _aar1=str2.split("___");this_thres.find(".mn_thres_js").html(_aar1[0]),$(".cart_bar_w").slideDown(200);var num_percent=100-parseInt(_aar1[1]),class_percent;num_percent<10?class_percent="less_10":class_percent="more_10",$(".cart_bar_w>span").removeClass("less_10 more_10").addClass(class_percent).css("width",num_percent+"%")}else this_thres.find(".mn_thres_js").html(str2),$(".cart_bar_w").slideUp(200),ck_canvas&&show_confetti&&(geckoShopify.CanvasConfetti().restart(),setTimeout(function(){geckoShopify.CanvasConfetti().stop()},3500))}geckoShopify.GetCartData=function(bl,blUp_items,id){fetch(location.href.split("?")[0]+"/?section_id=cart_js",{credentials:"same-origin",headers:{"cache-control":"no-cache"}}).then(function(response){return response.text()}).then(function(data2){geckoShopify.onCartUpdate(bl,blUp_items,data2,id)}).catch(function(error){console.log(error)})},geckoShopify.onCartUpdate=function(bl,blUp_items,dt_cart,id){if(body.hasClass("template-cart")){if($(".reload_cart_js").length>0)return location.reload(),!1;var data2=dt_cart.split("[split_t4nt0]")[1],arrCat=data2.split("[split_t4nt]"),OldCartCount=$(".jsccount").first().html(),CurrentCartCount=arrCat[0];if(CurrentCartCount!=OldCartCount){body.removeClass("t4_cart_count_"+OldCartCount).addClass("t4_cart_count_"+CurrentCartCount),parseInt(CurrentCartCount)==0?($(".nt_js_cart, .js_cart_cd").hide(),$(".shipping_calc_page").addClass("dn"),$(".empty_cart_page").show()):($(".empty_cart_page").hide(),$(".nt_js_cart, .js_cart_cd").show(),$(".shipping_calc_page").removeClass("dn")),$(".jsccount").html(CurrentCartCount);var aar1=arrCat[1].split(",]"),this_thres=$(".cart_thres_"+aar1[0]);aar1!="spt4"&&(this_thres.is(":hidden")&&($(".cart_thres_1,.cart_thres_2,.cart_thres_3").slideUp(200),this_thres.slideDown(250)),CurrentCartCount!=0&&$(".cart_thres_3").is(":hidden")?ck_canvas=!0:ck_canvas=!1,UpdateShipBar(arrCat[1],aar1[1],this_thres)),blUp_items&&$(".js_cat_items").html(arrCat[2]),$(".js_cat_dics").html(arrCat[3]),$(".js_cat_ttprice").html(arrCat[4]),arrCat[5]=="1"?$(".js_gift_wrap").addClass("dn"):$(".js_gift_wrap").removeClass("dn"),body.trigger("refresh_currency"),$.magnificPopup.instance.isOpen&&$.magnificPopup.close()}$(".nt_js_cart.loading, .js_addtc.loading, .js_frm_cart.loading, .js_add_group.loading, .sticky_atc_js.loading").removeClass("loading"),$ld.trigger("ld_bar_end"),blUp_items&&$("html, body").animate({scrollTop:$(".cart_page_section").offset().top-40},400)}else{var data2=dt_cart.split("[split_t4nt0]")[1],arrCat=data2.split("[split_t4nt]"),OldCartCount=$(".jsccount").first().html(),CurrentCartCount=arrCat[0];if(CurrentCartCount!=OldCartCount){body.removeClass("t4_cart_count_"+OldCartCount).addClass("t4_cart_count_"+CurrentCartCount),parseInt(CurrentCartCount)==0?($(".nt_js_cart .js_cart_note,.nt_js_cart .js_cart_footer,.nt_js_cart .js_cart_tool,.js_cat_items,.js_cart_cd").hide(),$(".nt_js_cart .empty").show(),$("[data-cart-upsell-js]").html("")):($(".nt_js_cart .empty").hide(),$(".nt_js_cart .js_cart_note,.nt_js_cart .js_cart_footer,.nt_js_cart .js_cart_tool,.js_cat_items,.js_cart_cd").show()),$(".jsccount").html(CurrentCartCount);var aar1=arrCat[1].split(",]"),this_thres=$(".cart_thres_"+aar1[0]);aar1!="spt4"&&(this_thres.is(":hidden")&&($(".cart_thres_1,.cart_thres_2,.cart_thres_3").slideUp(200),this_thres.slideDown(250)),CurrentCartCount!=0&&$(".cart_thres_3").is(":hidden")?ck_canvas=!0:ck_canvas=!1,UpdateShipBar(arrCat[1],aar1[1],this_thres)),blUp_items&&$(".js_cat_items").html(arrCat[2]),$(".js_cat_dics").html(arrCat[3]),$(".js_cat_ttprice").html(arrCat[4]),arrCat[5]=="1"?($(".js_cart_tls_back").trigger("click"),$(".js_gift_wrap").addClass("dn")):$(".js_gift_wrap").removeClass("dn"),$(".popup_uppr_wrap").length>0?(id=19041994,TriggerAfterATC(bl,id)):$.magnificPopup.instance.isOpen?($.magnificPopup.close(),setTimeout(function(){TriggerAfterATC(bl,id)},505)):TriggerAfterATC(bl,id),geckoShopify.WidgetCartUpdateMobile(),body.trigger("refresh_currency")}$(".nt_js_cart.loading, .js_addtc.loading, .js_frm_cart.loading, .js_add_group.loading, .sticky_atc_js.loading").removeClass("loading"),$ld.trigger("ld_bar_end")}};var after_action_atc=nt_settings.after_action_atc;function TriggerAfterATC(bl,id){if(!(!bl||after_action_atc=="0"))if(after_action_atc=="1"){var html=['<div class="added-to-cart">',"<p>"+nt_settings.added_to_cart+"</p>",'<a href="#" class="btn btn-style-link close-popup">'+nt_settings.continue_shopping+"</a>",'<a href="'+cartUrl+'" class="button view-cart">'+nt_settings.view_cart+"</a>","</div>"].join("");$.magnificPopup.open({callbacks:{beforeOpen:function(){this.st.mainClass=geckoTheme.popupAnimation+"  cart-popup-wrapper"}},items:{src:'<div class="white-popup add-to-cart-popup popup-added_to_cart">'+html+"</div>",type:"inline"}}),$(".white-popup").on("click",".close-popup",function(e){e.preventDefault(),$.magnificPopup.close()})}else after_action_atc=="2"?(id=id||19041994,id!=19041994?$.ajax({url:pr_re_url+"?section_id=re_upsell&product_id="+id,dataType:"html",type:"GET",success:function(section){var recommendationsMarkup=$(section).html();recommendationsMarkup.trim()!==""?$.magnificPopup.open({items:{src:'<div id="re_upsell_t4" class="popup_uppr_wrap container bgw mfp-with-anim">'+recommendationsMarkup+"</div>",type:"inline"},callbacks:{beforeOpen:function(){this.st.mainClass=geckoTheme.popupAnimation+"  cart-popup-wrapper"},open:function(){var seat=$(".popup_uppr_wrap .pr_animated:not(.done)"),$el=$(".popup_uppr_wrap .nt_slider");geckoShopify.class_sequentially(seat),geckoShopify.refresh_flickity($el),geckoShopify.flickityt4sResposition(!1,$el),$("#re_upsell_t4 .swatch__list--calced").removeClass("swatch__list--calced"),geckoShopify.recalculateSwatches(),geckoShopify.InitCountdown(),geckoShopify.lazyWishUpdate(),geckoShopify.review(),body.trigger("refresh_currency")},close:function(){TriggerSidebarDropdow(),$(".mini_cart_dis, .mini_cart_gift, .mini_cart_note, .mini_cart_ship").hide(),setTimeout(function(){$(".mini_cart_dis, .mini_cart_gift, .mini_cart_note, .mini_cart_ship").show()},350)}}}):TriggerSidebarDropdow()},error:function(){},complete:function(){}}):TriggerSidebarDropdow()):after_action_atc=="3"?TriggerSidebarDropdow():document.location.href=cartUrl}function TriggerSidebarDropdow(){if(!body.hasClass("pside_opened"))if(yes_hover&&body.hasClass("cart_pos_dropdown")){var $ic_cart=$(".cart_pos_dropdown .ntheader:not(.h_scroll_down) .icon_cart");$ic_cart.trigger("mouseenter")}else $('.push_side[data-id="#nt_cart_canvas"]').trigger("click")}geckoShopify.spNotices=function(){var notices=".shopify-error, .shopify-info, .shopify-message";$(sp_notices).on("click",notices,function(){var $msg=$(this);hideMessage($msg),$(".jscl_ld").removeClass("jscl_ld")});var hideMessage=function($msg){$msg.removeClass("show_notice")}},geckoShopify.HideNotices=function(){$(sp_notices+" .show_notice").removeClass("show_notice")},geckoShopify.CreatNotices=function(txt){$(sp_notices).html('<p class="shopify-info sp_notice"><i class="facl facl-attention"></i>'+txt+'<i class="pegk pe-7s-close"></i></p>'),setTimeout(function(){$(sp_notices+" .sp_notice").addClass("show_notice")},200)},geckoShopify.onError=function(XMLHttpRequest,textStatus){if($(".nt_js_cart.loading, .js_addtc.loading, .js_frm_cart.loading, .sticky_atc_js.loading").removeClass("loading"),$ld.trigger("ld_bar_end"),!nt_settings.disATCerror){var data=eval("("+XMLHttpRequest.responseText+")");geckoShopify.CreatNotices(data.description)}},geckoShopify.onError2=function(error){$(".nt_js_cart.loading, .js_addtc.loading, .js_frm_cart.loading, .sticky_atc_js.loading").removeClass("loading"),$ld.trigger("ld_bar_end"),!nt_settings.disATCerror&&geckoShopify.CreatNotices(error)},geckoShopify.AgreeEmailCheckout=function(){nt_settings.checkbox_mail&&(body.on("click",".mail_agree",function(e){e.preventDefault(),e.stopPropagation();var frm=$(this).closest("form");if(frm.find('[type="email"]').val().length<1)return frm.addClass("error_css_email"),!1;frm.addClass("error_css_checkbox")}),body.on("keyup",'.js_mail_agree [type="email"]',function(e){var frm=$(this).closest("form");$(this).val().length<1?frm.addClass("error_css_email"):frm.removeClass("error_css_email")}),body.on("click",'input[type="checkbox"].css_agree_ck',function(e){var _form=$(this).closest("form"),_btn=_form.find("[type=submit]");$(this).is(":checked")?(_btn.removeClass("mail_agree"),_form.removeClass("error_css_checkbox")):_btn.addClass("mail_agree")}))};var agree_checkout=nt_settings.agree_checkout,pe_none="pe_none";geckoShopify.AgreeCheckout=function(){$(".js_agree_ck").length!=0&&(body.on("click",'[name="checkout"], [name="goto_pp"], [name="goto_gc"]',function(e){var frm=$(this).closest("form");frm.find(".js_agree_ck").is(":checked")?$(this).submit():(e.preventDefault(),e.stopPropagation(),geckoShopify.CreatNotices(agree_checkout))}),body.on("click",".js_agree_ck",function(e){var frm=$(this).closest("form"),ckt4=frm.find("[data-add-ckt4]");frm.find(".js_agree_ck").is(":checked")?(geckoShopify.HideNotices(),ckt4.removeClass(pe_none)):ckt4.addClass(pe_none)}),$("[data-agree-ckt4]").length!=0&&body.on("click","[data-agree-ckt4]",function(e){var frm=$(this).closest("form"),ckt4=frm.find("[data-add-ckt4]");frm.find(".js_agree_ck").is(":checked")?ckt4.removeClass(pe_none):(geckoShopify.CreatNotices(agree_checkout),ckt4.addClass(pe_none))}))},geckoShopify.spQuantityAdjust=function(li){String.prototype.getDecimals||(String.prototype.getDecimals=function(){var num=this,match=(""+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return match?Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0)):0}),body.on("change",".qty_pr_js",function(e){var _this2=$(this),vid=_this2.data("id"),qty=_this2.val()||1,max=_this2.attr("max")||9999,min=_this2.attr("min")||1,fgr_frm=_this2.closest(".fgr_frm");if(fgr_frm.length>0&&(subtt_price_group(fgr_frm),body.trigger("refresh_currency")),geckoShopify.HideNotices(),parseInt(qty)>parseInt(max)){if(qty=max,_this2.val(qty),nt_settings.disOnlyStock)return;var txt=$("#js_we_stcl").text()||"Not enough items available. Only [max] left.";return geckoShopify.CreatNotices(txt.replace("[max]",max)),!1}else if(parseInt(qty)<parseInt(min))return _this2.val(min),!1}),body.on("click",".plus, .minus",function(e){e.preventDefault();var _this2=$(this),$qty=_this2.closest(".quantity").find("input.qty"),currentVal=parseFloat($qty.val()),max=parseFloat($qty.attr("max")),min=parseFloat($qty.attr("min")),step=$qty.attr("step");if((!currentVal||currentVal===""||currentVal==="NaN")&&(currentVal=0),(max===""||max==="NaN")&&(max=""),(min===""||min==="NaN")&&(min=0),(step==="any"||step===""||step===void 0||parseFloat(step)==="NaN")&&(step=1),geckoShopify.HideNotices(),_this2.is(".plus"))if(max&&currentVal>=max){if($qty.val(max),nt_settings.disOnlyStock)return;var txt=$("#js_we_stcl").text()||"Not enough items available. Only [max] left.";return geckoShopify.CreatNotices(txt.replace("[max]",max)),!1}else $qty.val((currentVal+parseFloat(step)).toFixed(step.getDecimals()));else min&&currentVal<=min?$qty.val(min):currentVal>0&&$qty.val((currentVal-parseFloat(step)).toFixed(step.getDecimals()));$qty.trigger("change")});var _grpjs="[data-qty-grpjs]",$grpjs=$(_grpjs);$grpjs.length!=0&&$grpjs.each(function(){var _this2=$(this),qty_grpjs=_this2.data("qty-grpjs")||0;qty_grpjs&&_this2.find(".js_item_group .qty_pr_js").eq(0).trigger("change")})},geckoShopify.productImages=function(){if(body.hasClass("template-product")){var ck_cl=!0,$productGallery=$(".product-images"),$single_thumbnail=$(".sp-single"),$mainImages=$(".p-thumb"),img_visible=$mainImages.find(".img_ptw:not(.is_varhide)"),PhotoSwipeTrigger=".show_btn_pr_gallery",galleryType=nt_settings.galleryType;($productGallery.hasClass("img_action_popup")||$(window).width()<=1024&&nt_settings.zoom_mb)&&(PhotoSwipeTrigger+=", .p-thumb .img_ptw"),$(".p-thumb").on("dragEnd.flickityt4s",function(event,pointer){ck_cl=!1}),$single_thumbnail.on("click",PhotoSwipeTrigger,function(e){if(e.preventDefault(),$(this).hasClass("show_btn_pr_gallery")&&(ck_cl=!0),galleryType=="mfp"&&ck_cl)$.magnificPopup.open({type:"image",tClose:nt_settings.close,image:{verticalFit:!1},items:getProductItems(),gallery:{enabled:!0,navigateByImgClick:!1}},0);else if(galleryType=="pswp"&&ck_cl){$(".thumb_2").length>0||$(".thumb_3").length>0||$(".thumb_7").length>0?(img_visible=$mainImages.find(".js-sl-item:not(.is_varhide) .img_ptw"),img_visible.length||(img_visible=$mainImages.find(".img_ptw:not(.is_varhide)"))):img_visible=$mainImages.find(".img_ptw:not(.is_varhide)");var items=getProductItems(),thumb_item=getProductItems("thumb"),p_thumb2=$(".pswp__thumbnails");if($(".p-thumb").hasClass("isotope_ok"))var index=$(this).parents().index();else var index=getCurrentGalleryIndex(e);index==-1&&(index=0),callPhotoSwipe(index,items),p_thumb2.length>0&&img_visible.length>1&&(p_thumb2.html(thumb_item),$(".pswp_thumb_item:eq("+index+")").addClass("pswp_tb_active"),adjustMobileThumbPosition())}else ck_cl=!0});var callPhotoSwipe=function(index,items){var pswpElement=document.querySelectorAll(".pswp_t4_js")[0],items_length=0;$(".pswp_size_guide").removeClass("pswp_size_guide"),$(".pswp_t4_js").addClass("pswp_pp_prs"),_rtl&&(items_length=items.length-1,index=items_length-index,items=items.reverse());var options={history:!1,maxSpreadZoom:nt_settings.maxSpreadZoom,bgOpacity:nt_settings.bgOpacity,showHideOpacity:$(".p-thumb").hasClass("nt_contain")||$(".p-thumb").hasClass("nt_cover"),index:index,shareButtons:[{id:"facebook",label:nt_settings.share_fb,url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:nt_settings.tweet,url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:nt_settings.pin_it,url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function(index2){var thumbnail=$(".p-thumb .p_ptw:visible").eq(index2)[0];$mainImages.hasClass("isotope_ok")&&(thumbnail=$(".p-thumb .p_ptw:visible").eq(index2)[0]);var pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width}}},gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init(),gallery.listen("afterChange",function(){if(_rtl)var i=items_length-gallery.getCurrentIndex();else var i=gallery.getCurrentIndex();$(".pswp_tb_active").removeClass("pswp_tb_active"),$(".pswp_thumb_item:eq("+i+")").addClass("pswp_tb_active"),adjustMobileThumbPosition()}),$(".pswp_t4_js").off("click").on("click",".pswp_thumb_item",function(){if(_rtl)var i=items_length-$(this).index();else var i=$(this).index();gallery.goTo(i)}),gallery.listen("close",function(){if(setTimeout(function(){$(".pswp_pp_prs").removeClass("pswp_pp_prs")},500),_rtl)var i=items_length-gallery.getCurrentIndex();else var i=gallery.getCurrentIndex();$(".p-thumb.flickityt4s-enabled").flickityt4s("select",i,!1,!0)})},getCurrentGalleryIndex=function(e){return $mainImages.hasClass("flickityt4s-enabled")?$mainImages.find(".js-sl-item.is-selected").index():$(e.currentTarget).hasClass("show_btn_pr_gallery")?0:$(e.currentTarget).index()},getProductItems=function(getvl){var items=[],_html="",img;return img_visible.each(function(){var $this=$(this),src=$this.attr("data-src"),width=$this.attr("data-width"),height=$this.attr("data-height"),caption=$this.data("cap"),img2=$(this).data("bgset");items.push({src:src,w:width,h:height,title:nt_settings.img_captions?caption:!1}),_html+='<div class="pswp_thumb_item"><img class="lazyloadt4s lz_op_ef" src="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%20'+width+"%20"+height+'%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3C%2Fsvg%3E" data-src="'+img2+'" data-optimumx="1.5" data-widths="[50, 80, 100, 120, 160 ,180, 360, 540]" data-sizes="auto"></div>'}),getvl=="thumb"?_html:items},adjustMobileThumbPosition=function(){if(small767){var selectedThumb=$(".pswp_tb_active")[0],$pswp__thumb=$(".pswp__thumbnails"),thumbContainer=$pswp__thumb[0],thumbBounds=selectedThumb.getBoundingClientRect(),thumbWrapperBounds=thumbContainer.getBoundingClientRect();thumbBounds.left+thumbBounds.width>thumbWrapperBounds.width?$pswp__thumb.animate({scrollLeft:selectedThumb.offsetLeft+thumbBounds.width-thumbWrapperBounds.width+10},200):selectedThumb.offsetLeft<thumbContainer.scrollLeft&&$pswp__thumb.animate({scrollLeft:selectedThumb.offsetLeft-10},200)}};if(!(!$productGallery.hasClass("img_action_zoom")||window_w<1025)){var p_thumb=$(".p-thumb"),p_infors=$(".product-infors"),zoom_target=$(".p-thumb .img_ptw"),dt_zoom_img=$(".dt_img_zoom")[0],zoom_tp=nt_settings.zoom_tp,z_magnify=nt_settings.z_magnify,z_touch=nt_settings.z_touch;zoom_tp=="2"&&($(".thumb_2").length>0||$(".thumb_3").length>0||$(".thumb_7").length>0)&&(zoom_tp="1",body.removeClass("zoom_tp_2").addClass("zoom_tp_1")),zoom_target.each(function(){var $this=$(this),_this2=$this[0],w=$this.attr("data-width"),h=$this.attr("data-height");new Drift(_this2,{sourceAttribute:"data-src",paneContainer:zoom_tp=="2"?dt_zoom_img:_this2,zoomFactor:z_magnify,inlinePane:zoom_tp=="3",hoverBoundingBox:zoom_tp=="2",handleTouch:!1,onShow:function(){p_thumb.addClass("zoom_fade_ic"),p_infors.addClass("zoom_fade_if")},onHide:function(){p_thumb.removeClass("zoom_fade_ic"),p_infors.removeClass("zoom_fade_if")}})})}}};function callgalleryPhotoSwipe(index,items){var pswpElement=document.querySelectorAll(".pswp_t4_js")[0];_rtl&&(index=items.length-index-1,items=items.reverse());var options={history:!1,maxSpreadZoom:2,showHideOpacity:!0,fullscreenEl:!1,shareEl:!1,counterEl:!1,bgOpacity:1,index:index,shareButtons:[{id:"facebook",label:nt_settings.share_fb,url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:nt_settings.tweet,url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:nt_settings.pin_it,url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}]},gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init()}function callSizeGuide($this){var el=document.querySelectorAll(".pswp_t4_js")[0];$(".pswp_t4_js").addClass("pswp_size_guide");var options={history:!1,maxSpreadZoom:2,showHideOpacity:!0,fullscreenEl:!1,shareEl:!1,counterEl:!1,bgOpacity:1,getThumbBoundsFn:function(index){var pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=$this[0].getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width}}},items=[],img_w=$this.attr("data-width")||"nt_img",img_h=$this.attr("data-height")||"nt_img",img_src=$this.attr("data-src");items.push({src:img_src,w:img_w,h:img_h,title:$this.text()});var img_size=new PhotoSwipe(el,PhotoSwipeUI_Default,items,options);img_size.init()}geckoShopify.galleryPhotoSwipe=function(){$(document).on("click",".btn_size_guide",function(e){e.preventDefault(),callSizeGuide($(this))}),$(document).on("click",".nt_gallery_item a",function(e){e.preventDefault();var $parent=$(this).parents(".nt_gallery_item"),holder=$(this).closest(".type_gallery"),index=$parent.index(),items=getGalleryImages(holder);callgalleryPhotoSwipe(index,items)});var getGalleryImages=function(el){var items=[];return el.find("a").each(function(){items.push({src:$(this).attr("data-src"),w:$(this).attr("data-w"),h:$(this).attr("data-h")})}),items}},geckoShopify.ajaxPPjs=function(){var ajax_pp=$(".ajax_pp_js");if(ajax_pp.length!=0){sp_nt_storage&&ajax_pp.each(function(){sessionStorage.removeItem($(this).attr("data-id"))}),ajax_pp.click(function(e){e.preventDefault();var _this2=$(this),url=_this2.attr("data-url"),id=_this2.attr("data-id"),title=_this2.attr("data-title"),prUrl=_this2.attr("data-handle"),data2=null;sp_nt_storage&&(data2=sessionStorage.getItem(id)),data2!=null?OpenMFP(data2,id,title,prUrl):(_this2.addClass("loading"),$ld.trigger("ld_bar_60"),setTimeout(function(){$ld.trigger("ld_bar_80")},80),$.ajax({url:url,dataType:"html",type:"GET",success:function(data3){var data1=data3.split("[t4splitlz]")[1];data3=data1||data3,OpenMFP(data3,id,title,prUrl),sp_nt_storage&&sessionStorage.setItem(id,data3)},complete:function(){_this2.removeClass("loading"),$ld.trigger("ld_bar_end")},error:function(){console.log("ajax_pp_js error")}}))});var OpenMFP=function(data2,id,title,prUrl){$.magnificPopup.open({items:{src:'<div class="mfp-with-anim white-popup ajax_pp_popup '+id+'">'+data2+"</div>",type:"inline"},removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"},open:function(){$("#ContactFormAsk-product").val(title+" "+prUrl)},close:function(){}}})}}},geckoShopify.getRandomInt=function(min,max){return Math.floor(Math.random()*(max-min+1))+min},geckoShopify.progressbar=function(id,qty){var $id=$(id);if($id.length!=0){$id.removeAttr("data-ttcalc");var pr_id=$id.data("prid"),updateMeter=function(a,remaining_items2,bgprocess2,bgten2){remaining_items2=parseInt(remaining_items2),sp_nt_storage&&sessionStorage.setItem("probar"+pr_id,remaining_items2),total_items=$id.attr("data-ttcalc")||total_items>remaining_items2?total_items:remaining_items2+total_items,$id.attr("data-ttcalc",total_items);var b=100*remaining_items2/total_items,color=remaining_items2<10?bgten2:bgprocess2;a.find(".progressbar>div").css("background-color",color),setTimeout(function(){a.find(".progressbar>div").css("width",b+"%")},300)},total_items=parseInt($id.data("total")),min_items_left=parseInt($id.data("min")),max_items_left=parseInt($id.data("max")),dt_type=$id.data("type"),bgprocess=$id.data("bgprocess"),bgten=$id.data("bgten"),timer=null,timerinterval=null,min_of_remaining_items=1,decrease_after=1.7,decrease_after_first_item=.17,remaining_items=qty||geckoShopify.getRandomInt(min_items_left,max_items_left);if(sp_nt_storage&&!designMode&&dt_type=="ATC_NONE"){var getse_re=sessionStorage.getItem("probar"+pr_id);getse_re>0&&(remaining_items=getse_re)}$id.find(".count").text(remaining_items).css({"background-color":"#fff",color:bgprocess}),$id.find(".message").show(),$id.find(".progressbar").show(),updateMeter($id,remaining_items,bgprocess,bgten),dt_type!="ATC"&&(timer=setTimeout(function(){remaining_items--,remaining_items<min_of_remaining_items&&(remaining_items=qty||geckoShopify.getRandomInt(min_items_left,max_items_left)),$id.find(".count").css({"background-color":bgprocess,color:"#fff"}),setTimeout(function(){$id.find(".count").css({"background-color":"#fff",color:bgprocess})},1e3*60*.03),$id.find(".count").text(remaining_items),updateMeter($id,remaining_items,bgprocess,bgten)},1e3*60*decrease_after_first_item),timerinterval=setInterval(function(){remaining_items--,remaining_items<min_of_remaining_items&&(remaining_items=qty||geckoShopify.getRandomInt(min_items_left,max_items_left)),$id.find(".count").css({"background-color":bgprocess,color:"#fff"}),setTimeout(function(){$id.find(".count").css({"background-color":"#fff",color:bgprocess})},1e3*60*.03),$id.find(".count").text(remaining_items),updateMeter($id,remaining_items,bgprocess,bgten)},1e3*60*decrease_after),$id.bind("cleart",function(){clearTimeout(timer),clearInterval(timerinterval)}))}},geckoShopify.progressbarUpdateATC=function(el,qty){if(el.data("type")=="ATC"){var pr_id=el.data("prid"),_count=el.find(".count"),qty=1,vl_count=parseInt(el.attr("data-cur"))-qty;if(!(vl_count<1)){_count.text(vl_count);var bgprocess=el.data("bgprocess"),bgten=el.data("bgten"),total_items=el.attr("data-ttcalc"),b=100*vl_count/total_items,color=vl_count<10?bgten:bgprocess;el.find(".progressbar>div").css({"background-color":color,width:b+"%"})}}},geckoShopify.real_time=function(id){var $id=$(id);if($id.length!=0){var min=$id.data("min"),max=$id.data("max"),interval=$id.data("interval"),o=geckoShopify.getRandomInt(min,max),n=["1","2","4","3","6","10","-1","-3","-2","-4","-6"],l=["10","20","15"],h="",e="",M="";setInterval(function(){if(h=Math.floor(Math.random()*n.length),e=n[h],o=parseInt(o)+parseInt(e),min>=o){M=Math.floor(Math.random()*l.length);var a=l[M];o+=a}(o<min||o>max)&&(o=geckoShopify.getRandomInt(min,max)),$id.find(".count").html(parseInt(o)),$id.show()},interval)}},geckoShopify.flashSold=function(id){var $id=$(id);if($id.length==0)return;var mins=$id.data("mins"),maxs=$id.data("maxs"),mint=$id.data("mint"),maxt=$id.data("maxt"),dataID=$id.data("id"),getS=sessionStorage.getItem("soldS"+dataID)||geckoShopify.getRandomInt(mins,maxs),getT=sessionStorage.getItem("soldT"+dataID)||geckoShopify.getRandomInt(mint,maxt),numS=parseInt(getS),numT=parseInt(getT),intervalTime=parseInt($id.data("time"));function UpdateSold(num1,num2){$id.find(".nt_pr_sold").html(num1),$id.find(".nt_pr_hrs").html(Math.floor(numT)),sessionStorage.setItem("soldS"+dataID,num1),sessionStorage.setItem("soldT"+dataID,num2)}UpdateSold(numS,numT),$id.show(),setInterval(function(){numS=numS+geckoShopify.getRandomInt(1,4),numT=numT+(Math.random()*(.8-.1)+.1).toFixed(1)*1,UpdateSold(numS,numT)},intervalTime)},geckoShopify.ATC_animation=function(id){var $id=$(id);if($id.length==0||$id.data("ani")=="none")return;var animation="animated "+$id.data("ani"),intervalTime=parseInt($id.data("time")),animTime=1e3;function ATC_animation(){setInterval(function(){$id.addClass(animation),setTimeout(function(){$id.removeClass(animation)},animTime)},intervalTime)}ATC_animation()};function getToday(setday,format,day,dayfulljs){var arrd=$("#order_day").text().replace(/ /g,"").split(","),arrm=$("#order_mth").text().replace(/ /g,"").split(","),days=ArrUnique(arrd),monthNames=ArrUnique(arrm),d=day!==""?new Date(day):new Date;d.setDate(d.getDate()+setday);var ww=days[d.getDay()],mmn=monthNames[d.getMonth()],ObjFormat={0:"YYYYMMDD",1:"[ww], Do [mmn]",12:"[ww], DD [mmn]",2:"[ww], Do [mmn] YYYY",3:"[ww], Do [mmn], YYYY",4:"[ww], [mmn] Do, YYYY",5:"[ww], [mmn] Do",6:"[ww], [mmn] Do YYYY",7:"[ww], [mmn] DD",8:"[ww], [mmn] DD YYYY",9:"[ww], MM/DD/YYYY",10:"[ww], DD/MM/YYYY",11:"YYYY/MM/DD",20:"[ww], YYYY/MM/DD"};return moment(d).format(ObjFormat[format]).replace("ww",ww).replace("mmn",mmn)}function ArrUnique(arr){var onlyUnique=function(value,index,self){return self.indexOf(value)===index};return arr.filter(onlyUnique)}function day_suffix(n){if(n>=11&&n<=13)return n+"th";switch(n%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd";default:return n+"th"}}var timezone=nt_settings.timezone,bltimezone=timezone!="not4",day_t4_js=moment();if(bltimezone)try{var timezoneDay=moment().tz(timezone)}catch(err){console.log("Timezone error 2: "+timezone),bltimezone=!1}geckoShopify.InitCountdown_pr=function(id){var $id=$(id);if($id.length!=0){var $txt=$(id+"_txt"),dta_time=$id.data("time")||"",time_js="",arr=dta_time.replace("24:00:00","23:59:59").split(","),local_date=day_t4_js.format("YYYY/MM/DD"),local_time=day_t4_js.format("HHmmss"),loop=$id.data("loop"),last=arr.length,timezone2=$id.data("timezone");if($id.hasClass("nt_loop")){var shoph=bltimezone?timezoneDay.format("HHmmss"):local_time,shophNumber=parseInt(shoph),shopt=bltimezone?timezoneDay.format("YYYY/MM/DD"):local_date,ck=!1,i,l=arr.length;for(i=0;i<l;i++)if(parseInt(arr[i].replace(/:/g,""))>=shophNumber){time_js=arr[i];break}else i==last-1&&(ck=!0,time_js=arr[i]);local_date=shopt+" "+time_js,bltimezone?dta_time=geckoShopify.getDateCountdown(local_date):dta_time=new Date(local_date),loop&&ck&&dta_time.setDate(dta_time.getDate()+1)}else dta_time=geckoShopify.getDateCountdown(dta_time);var txt_day=$txt.find(".day").text(),txt_hr=$txt.find(".hr").text(),txt_min=$txt.find(".min").text(),txt_sec=$txt.find(".sec").text();$id.countdown(dta_time,{elapse:!0}).on("update.countdown",function(event){event.elapsed?($id.html(""),$txt.hide()):($txt.find(".mess_cd").show(),$id.html(event.strftime('<div class="block tc"><span class="flip-top">%-D</span><br><span class="label tu">'+txt_day+'</span></div><div class="block tc"><span class="flip-top">%H</span><br><span class="label tu">'+txt_hr+'</span></div><div class="block tc"><span class="flip-top">%M</span><br><span class="label tu">'+txt_min+'</span></div><div class="block tc"><span class="flip-top">%S</span><br><span class="label tu">'+txt_sec+"</span></div>")))})}},geckoShopify.delivery_order=function(selector){var selectorCurent=$(selector);if(selectorCurent.length!=0){var today=new Date,today2=new Date,i=0,today3=new Date,j=0,getDate=today.getDate(),dateStart=selectorCurent.data("ds")||0,dateEnd=selectorCurent.data("de")||0,mode=selectorCurent.data("mode"),frm=selectorCurent.data("frm"),time=selectorCurent.data("time").replace("24:00:00","23:59:59")||"19041994",arr=["SUN","MON","TUE","WED","THU","FRI","SAT"],excludeDays=selectorCurent.data("cut").replace(/ /g,"").split(","),order_bltimezone=selectorCurent.data("timezone"),local_time=bltimezone&&order_bltimezone?timezoneDay.format("HHmmss"):day_t4_js.format("HHmmss"),timeint=time.replace(/ /g,"").replace(/:/g,""),arr_d=time.replace(/ /g,"").split(":"),local_date=day_t4_js.format("YYYY/MM/DD"),shopt=bltimezone&&order_bltimezone?timezoneDay.format("YYYY/MM/DD"):local_date;if(local_date=shopt+" "+time,bltimezone&&order_bltimezone)var lastDay=geckoShopify.getDateCountdown(local_date);else var lastDay=new Date(local_date);if(parseInt(local_time)>=parseInt(timeint)&&lastDay.setDate(lastDay.getDate()+1),mode=="2"){for(today2.setDate(getDate);i<dateStart;)i++,today2.setDate(today2.getDate()+1),excludeDays.indexOf(arr[today2.getDay()])>-1&&i--;for(selectorCurent.find(".start_delivery").html(getToday(0,frm,today2)),today3.setDate(getDate);j<dateEnd;)j++,today3.setDate(today3.getDate()+1),excludeDays.indexOf(arr[today3.getDay()])>-1&&j--;selectorCurent.find(".end_delivery").html(getToday(0,frm,today3))}else{today2.setDate(getDate+dateStart-1);do today2.setDate(today2.getDate()+1);while(excludeDays.indexOf(arr[today2.getDay()])>-1);selectorCurent.find(".start_delivery").html(getToday(0,frm,today2)),today3.setDate(getDate+dateEnd-1);do today3.setDate(today3.getDate()+1);while(excludeDays.indexOf(arr[today3.getDay()])>-1);selectorCurent.find(".end_delivery").html(getToday(0,frm,today3))}if(time!="19041994"){var $id=selectorCurent.find(".h_delivery");$id.countdown(lastDay,{elapse:!0}).on("update.countdown",function(event){if(!event.elapsed){var totalHours=event.offset.totalDays*24+event.offset.hours;$id.html(event.strftime(totalHours+" "+selectorCurent.find(".hr").text()+" %M "+selectorCurent.find(".min").text()))}})}selectorCurent.show()}},geckoShopify.getCookie=function(cname){for(var name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];c.charAt(0)==" ";)c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return""},geckoShopify.PrRecommendations=function(sl){var _this2=sl||$("#pr_recommendations");if(_this2.length!=0){var id=_this2.data("id"),Sectionid=_this2.data("sid"),limit=_this2.data("limit"),type=_this2.data("type"),baseUrl=_this2.data("baseurl"),sendTrekkieEvent=function(){if(!(!window.ShopifyAnalytics||!window.ShopifyAnalytics.lib||!window.ShopifyAnalytics.lib.track)){var didPageJumpOccur=_this2[0].getBoundingClientRect().top<=window.innerHeight,numberOfRecommendationsDisplayed=limit;window.ShopifyAnalytics.lib.track("Product Recommendations Displayed",{theme:"Kalles",didPageJumpOccur:didPageJumpOccur,numberOfRecommendationsDisplayed:numberOfRecommendationsDisplayed})}};if(type=="3")var url=baseUrl+"?section_id="+Sectionid+"&product_id="+id+"&limit="+limit;else var url=baseUrl+"&section_id="+Sectionid;$.ajax({url:url,dataType:"html",type:"GET",success:function(section){var recommendationsMarkup=$(section).html();if(recommendationsMarkup.trim()!==""){_this2.html(recommendationsMarkup);var seat=_this2.find(".pr_animated:not(.done)");geckoShopify.class_sequentially(seat);var $this=_this2.find(".nt_products_holder");geckoShopify.refresh_flickity($this),geckoShopify.flickityt4sResposition(!1,$this),geckoShopify.recalculateSwatches(),geckoShopify.InitCountdown(),body.trigger("refresh_currency"),type=="3"&&sendTrekkieEvent(),geckoShopify.review(),geckoShopify.lazyWishUpdate()}else _this2.slideUp()},error:function(){_this2.hide()},complete:function(){}})}},geckoShopify.recently_viewed=function(sl){var el=sl||$("#recently_wrap");if(!(!sp_nt_storage||el.length==0)){var ls=localStorage.getItem("nt_recent"),id=t_name=="product"?el.data("id"):"19041994",Sectionid=el.data("sid"),get=el.data("get"),unpr=el.data("unpr"),limit=el.data("limit");if(ls!=null){var arrls=ls.split(","),index=arrls.indexOf(id);if(index>-1?(arrls=arrls.splice(0,limit+1),arrls.splice(index,1)):arrls=arrls.splice(0,limit),arrls.length==0)return el.slideUp(),!1;var arr_list=arrls.toString(),uri=arr_list.replace(/,/g," OR "),res=encodeURI(uri);$.ajax({url:get+"?section_id="+Sectionid+"&type=product&options[unavailable_products]="+unpr+"&q="+res,dataType:"html",type:"GET",success:function(section){var recentlyMarkup=designMode?$($(section)[2]).html():$(section).html();try{recentlyMarkup.trim()}catch(err){recentlyMarkup=$(section).html()}if(recentlyMarkup.trim()!==""){el.html(recentlyMarkup);var seat=el.find(".pr_animated:not(.done)");geckoShopify.class_sequentially(seat);var $this=el.find(".nt_products_holder");geckoShopify.refresh_flickity($this),geckoShopify.flickityt4sResposition(!1,$this),geckoShopify.recalculateSwatches(),geckoShopify.InitCountdown(),body.trigger("refresh_currency"),geckoShopify.review(),geckoShopify.lazyWishUpdate()}},error:function(){_this.hide()},complete:function(){}})}else{el.html("");var arrls=new Array}arrls.indexOf(id)<0&&id!="19041994"&&(arrls.length>limit&&(arrls=arrls.splice(0,limit)),arrls.unshift(id),localStorage.setItem("nt_recent",arrls.toString()))}},geckoShopify.clickProduct=function(){$("body").hasClass("template-product")&&($(".rating_sp_kl, .readm_sp_kl").click(function(e){e.preventDefault();var id=$(this).data("sl");$(".ul_tabs "+id).trigger("click"),$(id+":not(.active) .tab-heading:visible").trigger("click"),$("html, body").stop().animate({scrollTop:$(id).offset().top-100},400)}),$(".ul_tabs>.tab_title_block>a").click(function(e){e.preventDefault();var _this2=$(this),parent=_this2.closest(".sp-tabs");parent.find(".tab_title_block").removeClass("active"),_this2.closest("li").addClass("active").addClass("active"),parent.find(".sp-tab.panel").hide().removeClass("active"),parent.find(_this2.attr("href")).show().addClass("active")}))},geckoShopify.spAccordion=function(){$(".sp-tabs .tab-heading").length!=0&&$(document).on("click",".sp-tabs .tab-heading",function(e){e.preventDefault();var _this2=$(this),parent=_this2.closest(".sp-tab"),parent_top=_this2.closest(".sp-tabs"),el=_this2.closest(".nt_section"),time=300,time2=time+50;el.length==0&&(el=_this2.closest(".shopify-section")),parent.addClass("clicked_accordion"),parent.hasClass("active")?(parent.removeClass("active"),parent.find(".sp-tab-content").slideUp(time)):(parent_top.find(".sp-tab").removeClass("active"),parent.addClass("active"),parent_top.find(".sp-tab-content").slideUp(150),parent.find(".sp-tab-content").stop(!0,!0).slideDown(time),setTimeout(function(){parent.find(".sp-tab-content .js_packery").packery("layout");var el_active=parent_top.find(".sp-tab.active .js_ck_view");if(!geckoShopify.isVisible(el_active,!0)){var num_height=$(".ntheader.live_stuck .sp_header_mid").height()||0,of_active=el.find(".sp-tab.active").offset().top-num_height-10;$("body,html").animate({scrollTop:of_active})}},200))})},geckoShopify.cartLazyUp=function(){body.hasClass("template-cart")||$(".js_cat_items").addClass("lazyloadt4s").on("lazyincludeloaded",function(e){if(e.detail.content){var arrCat0=e.detail.content.split("[split_t4nt0]")[1],arrCat=arrCat0.split("[split_t4nt]");e.detail.content=arrCat[0];try{var aar1=arrCat[1].split(",]")}catch(err){return!1}aar1!="spt4"&&$(".cart_thres_js").length>0&&($(".cart_thres_1,.cart_thres_2,.cart_thres_3").slideUp(150),$(".cart_thres_"+aar1[0]).slideDown(150),UpdateShipBar(arrCat[1],aar1[1],$(".cart_thres_"+aar1[0])),$(".cart_thres_js").removeClass("op__0"));var aar2=arrCat[2].split(",]");aar2[0]!="spt4"&&$(".mini_cart_gift").length>0&&($(".mini_cart_gift .js_addtc").attr("data-id",aar2[0]),$(".mini_cart_gift .gift_wrap_text").append(aar2[1])),arrCat[3]=="1"||aar2[0]=="spt4"?$(".js_gift_wrap").addClass("dn"):$(".js_gift_wrap").removeClass("dn")}}).on("lazyincluded",function(e){miniCartUpsell(19041994),body.trigger("refresh_currency")})};function searchURL(url){try{var arr=url.split("&product_type="),arr_q=arr[1].split("&q=");return arr[0]+"&q=product_type:"+arr_q[0]+"+"+arr_q[1]+search_prefix}catch(e){return url+search_prefix}}geckoShopify.searchType=function(){body.on("click",".js_btn_search",function(e){e.preventDefault();var _frm=$(this).closest("form");location.href=_frm.attr("action")+"?"+searchURL(_frm.serialize())})},geckoShopify.CatHeader8=function(el){var $element=$(el);if($element.length!=0){var $window=$(window),windowHeight=$window.height(),offsetTop=$element.offset().top;if(offsetTop<windowHeight){var fullHeight=100-(offsetTop+40)/(windowHeight/100);$element.addClass("mh_js_cat").css("max-height",fullHeight+"vh")}}};var SearchCaches={};geckoShopify.searchAjax=function(){if($ntSearch.addClass("lazyloadt4s").one("lazyincluded",function(e){body.trigger("refresh_currency"),val_old=""}),!(body.hasClass("js_search_false")||designMode)){var slug_js="&view=js",timer=0,data2,_this2,frm,btn,$result,ld_bar,skeleto,val_old,val_currect,_frmParent;body.on("keyup",".js_iput_search",function(e,bl){_this2=$(this),frm=_this2.closest("form"),btn=frm.find(".js_btn_search"),_this2.attr("autocomplete","off"),_frmParent=frm.parent(),$result=_frmParent.find(".js_prs_search"),ld_bar=$(".ld_bar_search"),skeleto=$(".skeleton_js"),val_currect=_this2.val(),!((val_old==val_currect||val_currect=="")&&bl!="1")&&(ld_bar.addClass("on_star"),$result.hide(),skeleto.removeClass("dn"),btn.addClass("pe_none"),_frmParent.addClass("atc_opended_rs atc_show_rs"),btn.hasClass("use_jsSe")?slug_js="&view=jsSe":btn.hasClass("use_jsfull")&&$(window).width()>1024?slug_js="&view=jsfull":slug_js="&view=js",clearTimeout(timer),timer=setTimeout(function(){if(data2=searchURL(frm.serialize()),SearchCaches[data2+slug_js]){var arr=SearchCaches[data2+slug_js].split("||");$(".search_header__prs>span").hide(),$(".search_header__prs,.search_header__content").show(),$(arr[0]).show(),$result.html(arr[1]),val_old=val_currect,body.trigger("refresh_currency"),btn.removeClass("pe_none"),ld_bar.addClass("on_end"),setTimeout(function(){ld_bar.attr("class","").addClass("ld_bar_search"),skeleto.addClass("dn"),$result.show()},100)}else $.ajax({url:frm.attr("action"),data:data2+slug_js,success:function(result){var arr2=result.split("||");$(".search_header__prs>span").hide(),$(".search_header__prs,.search_header__content").show(),$(arr2[0]).show(),$result.html(arr2[1]),val_old=val_currect,body.trigger("refresh_currency"),SearchCaches[data2+slug_js]=result},error:function(xhr,status,error){console.log(error)},complete:function(){btn.removeClass("pe_none"),ld_bar.addClass("on_end"),setTimeout(function(){ld_bar.attr("class","").addClass("ld_bar_search"),skeleto.addClass("dn"),$result.show()},280)}})},400))});var ModTouchevents=Modernizr.touchevents;body.on("click",".search_header_keys a",function(e){e.preventDefault();var _this3=$(this);ModTouchevents?_this3.closest(".js_frm_search").find(".js_iput_search").val(_this3.attr("data-key")).trigger("keyup"):_this3.closest(".js_frm_search").find(".js_iput_search").val(_this3.attr("data-key")).trigger("keyup").focus()}),body.on("click",function(e){var target=e.target,_target=$(target),_targetParents=_target.parents();!_target.is(".cl_h_search")&&!_targetParents.is(".cl_h_search")&&!_targetParents.is(".js_h_search")&&($(".atc_show_rs").removeClass("atc_show_rs"),val_old=""),_targetParents.is(".search-overlap")||$("body").removeClass("hsearch-dropdown-opened")}),$ntSearch.on("change","select",function(){$("#nt_search_canvas .js_iput_search").trigger("keyup",1)}),$(".h_search_frm").on("change","select",function(){$(".h_search_frm .js_iput_search").trigger("keyup",1)})}},geckoShopify.searchDropdown=function(){if(!(!body.hasClass("search_pos_dropdown")||body.hasClass("des_header_7")||window_w<1025)){body.addClass("Search_dropdown_prepared");var _id="#nt_search_canvas",_sp="#shopify-section-",searchWrapper=$(_id),offset=0,space=body.hasClass("rtl_true")?60:250;body.on("click",function(e){var _targetParents=$(e.target).parents();_targetParents.is(".search-overlap")||$("body").removeClass("hsearch-dropdown-opened")}),body.on("click",'.push_side[data-id="'+_id+'"]',function(e){e.preventDefault();var offsetPos=$(this).offset();isOpened()?closeWidget():setTimeout(function(){openWidget(offsetPos)},10)});var closeByEsc=function(e){e.keyCode===27&&(closeWidget(),body.unbind("keyup",closeByEsc))},closeWidget=function(){searchWrapper.removeClass("search-overlap"),$("body").removeClass("hsearch-dropdown-opened")},openWidget=function(offsetPos){var offset2=0,h_se=$(".css_h_se").outerHeight()||$(".header__mid").outerHeight();$(".live_stuck").length>0?offset2=h_se:(offset2=h_se,$(_sp+"header_banner").length>0&&(offset2+=$(_sp+"header_banner").outerHeight()),$(_sp+"header_top").length>0&&(offset2+=$(_sp+"header_top").outerHeight()));var top=offset2-2,left=offsetPos.left-space;searchWrapper.css({top:top+"px",left:left+"px"}),body.on("keyup",closeByEsc),$("body").addClass("hsearch-dropdown-opened"),searchWrapper.addClass("search-overlap"),searchWrapper.addClass("search-overlap").on("transitionend webkitTransitionEnd oTransitionEnd",function(){searchWrapper.find('input[type="text"]').focus(),$(window).one("scroll",function(){isOpened()&&closeWidget()})})},isOpened=function(){return $("body").hasClass("hsearch-dropdown-opened")}}};function _ToggleDragging(flkty,bl){flkty.options.draggable!=bl&&(flkty.options.draggable=bl,flkty.updateDraggable())}geckoShopify.LibraryLoader=function(){var types={link:"link",script:"script"},status={requested:"requested",loaded:"loaded"},cloudCdn="https://cdn.shopify.com/shopifycloud/",libraries={youtubeSdk:{tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",type:types.script},vimeoSdk:{tagId:"vimeo-sdk",src:"https://player.vimeo.com/api/player.js",type:types.script},plyrShopifyStyles:{tagId:"plyr-shopify-styles",src:cloudCdn+"plyr/v2.0/shopify-plyr.css",type:types.link},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:cloudCdn+"model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:types.link}};function load(libraryName,callback){var library=libraries[libraryName];if(library&&library.status!==status.requested){if(callback=callback||function(){},library.status===status.loaded){callback();return}library.status=status.requested;var tag;switch(library.type){case types.script:tag=createScriptTag(library,callback);break;case types.link:tag=createLinkTag(library,callback);break}tag.id=library.tagId,library.element=tag;var firstScriptTag=document.getElementsByTagName(library.type)[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}}function createScriptTag(library,callback){var tag=document.createElement("script");return tag.src=library.src,tag.addEventListener("load",function(){library.status=status.loaded,callback()}),tag}function createLinkTag(library,callback){var tag=document.createElement("link");return tag.href=library.src,tag.rel="stylesheet",tag.type="text/css",tag.addEventListener("load",function(){library.status=status.loaded,callback()}),tag}return{load:load}},geckoShopify.ProductVideo=function(){var hosts={html5:"html5",youtube:"youtube",vimeo:"vimeo"},selectors={productMediaWrapper:"[data-pr-md-tp-video]"},attributes={enableVideoLooping:"looping",videoId:"video-id"};function init(videoContainer,sectionId){if(videoContainer.length){var videoElement=videoContainer.find("iframe, video")[0],mediaId=videoContainer.data("mediaId");if(videoElement){videos[mediaId]={mediaId:mediaId,sectionId:sectionId,host:hostFromVideoElement(videoElement),container:videoContainer,element:videoElement,ready:function(){createPlayer(this)}};var video=videos[mediaId];switch(video.host){case hosts.html5:window.Shopify.loadFeatures([{name:"video-ui",version:"1.0",onLoad:setupPlyrVideos}]),geckoShopify.LibraryLoader().load("plyrShopifyStyles");break;case hosts.youtube:geckoShopify.LibraryLoader().load("youtubeSdk",setupYouTubeVideos);break;case hosts.vimeo:geckoShopify.LibraryLoader().load("vimeoSdk",setupVimeoVideos);break}}}}function setupPlyrVideos(errors){if(errors){fallbackToNativeVideo();return}loadVideos(hosts.html5)}function setupYouTubeVideos(){window.YT.Player&&loadVideos(hosts.youtube)}function setupVimeoVideos(){window.Vimeo&&loadVideos(hosts.vimeo)}function createPlayer(video){if(!video.player){var productMediaWrapper=video.container.closest(selectors.productMediaWrapper),enableLooping=productMediaWrapper.data(attributes.enableVideoLooping),$carousel=video.container.closest(".p-thumb"),ck_flkty=!0;if($carousel.hasClass("is-draggable")){ck_flkty=!1;var flkty=$carousel.data("flickityt4s")}switch(video.host){case hosts.html5:if(video.player=new Shopify.Plyr(video.element,{controls:["play","progress","mute","volume","play-large","fullscreen"],loop:{active:enableLooping},hideControlsOnPause:!0,clickToPlay:!0,iconUrl:"//cdn.shopify.com/shopifycloud/shopify-plyr/v1.0/shopify-plyr.svg",tooltips:{controls:!1,seek:!0}}),ck_flkty)break;video.player.on("play",function(){flkty=video.container.closest(".p-thumb").data("flickityt4s"),_ToggleDragging(flkty,!1)}),video.player.on("pause",function(){_ToggleDragging(flkty,">1")});break;case hosts.youtube:if(window.YT==null||window.YT.Player==null)return;var videoId=productMediaWrapper.data(attributes.videoId);video.player=new YT.Player(video.element,{videoId:videoId,events:{onStateChange:function(event){event.data===0&&enableLooping&&event.target.seekTo(0)}}});break;case hosts.vimeo:if(window.Vimeo==null||window.Vimeo.Player==null)return;var videoId=productMediaWrapper.data(attributes.videoId);video.player=new Vimeo.Player(video.element,{id:videoId,autoplay:!1,background:!0}),enableLooping&&video.player.setLoop&&video.player.setLoop(enableLooping);break}productMediaWrapper.on("mediaHidden xrLaunch",function(){video.player&&(video.host===hosts.html5&&video.player.pause(),video.host===hosts.youtube&&video.player.pauseVideo&&video.player.pauseVideo(),video.host===hosts.vimeo&&video.player.pause&&video.player.pause())}),productMediaWrapper.on("mediaVisible",function(){Modernizr.touchevents||video.player&&(video.host===hosts.html5&&video.player.play(),video.host===hosts.youtube&&video.player.playVideo&&video.player.playVideo(),video.host===hosts.vimeo&&video.player.play&&video.player.play())})}}function hostFromVideoElement(video){if(video.tagName==="VIDEO")return hosts.html5;if(video.tagName==="IFRAME"){if(/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(video.src))return hosts.youtube;if(/^(https?:\/\/)?(player\.)?(vimeo\.com)\/.+$/.test(video.src))return hosts.vimeo}return null}function loadVideos(host){for(var key in videos)if(videos.hasOwnProperty(key)){var video=videos[key];video.host===host&&video.ready()}}function fallbackToNativeVideo(){for(var key in videos)if(videos.hasOwnProperty(key)){var video=videos[key];if(video.nativeVideo)continue;video.host===hosts.html5&&(video.element.setAttribute("controls","controls"),video.nativeVideo=!0)}}function removeSectionVideos(sectionId){for(var key in videos)if(videos.hasOwnProperty(key)){var video=videos[key];video.sectionId===sectionId&&(video.player&&video.player.destroy(),delete videos[key])}}return{init:init,hosts:hosts,loadVideos:loadVideos,removeSectionVideos:removeSectionVideos}},geckoShopify.ProductModel=function(){var selectors={mediaGroup:"[data-pr-single-media-group]",xrButton:"[data-shopify-xr]"};function init(modelViewerContainers,sectionId){modelJsonSections[sectionId]={loaded:!1},modelViewerContainers.each(function(index){var $modelViewerContainer=$(this),mediaId=$modelViewerContainer.data("media-id"),$modelViewerElement=$($modelViewerContainer.find("model-viewer")[0]),modelId=$modelViewerElement.data("model-id");if(index===0){var $xrButton=$modelViewerContainer.closest(selectors.mediaGroup).find(selectors.xrButton);xrButtons[sectionId]={$element:$xrButton,defaultId:modelId}}models[mediaId]={modelId:modelId,sectionId:sectionId,$container:$modelViewerContainer,$element:$modelViewerElement[0]}}),window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:setupShopifyXr},{name:"model-viewer-ui",version:"1.0",onLoad:setupModelViewerUi}]),geckoShopify.LibraryLoader().load("modelViewerUiStyles")}function setupShopifyXr(errors){if(!errors){if(!window.ShopifyXR){document.addEventListener("shopify_xr_initialized",function(){setupShopifyXr()});return}for(var sectionId in modelJsonSections)if(modelJsonSections.hasOwnProperty(sectionId)){var modelSection=modelJsonSections[sectionId];if(modelSection.loaded)continue;var $modelJson=$("#ModelJson-"+sectionId);window.ShopifyXR.addModels(JSON.parse($modelJson.html())),modelSection.loaded=!0}window.ShopifyXR.setupXRElements()}}function setupModelViewerUi(errors){if(!errors){for(var key in models)if(models.hasOwnProperty(key)){var model=models[key];model.modelViewerUi||(model.modelViewerUi=new Shopify.ModelViewerUI(model.$element)),setupModelViewerListeners(model)}}}function setupModelViewerListeners(model){var xrButton=xrButtons[model.sectionId];model.$container.on("mediaVisible",function(){xrButton.$element.attr("data-shopify-model3d-id",model.modelId),!Modernizr.touchevents&&model.modelViewerUi.play()}),model.$container.on("mediaHidden",function(){xrButton.$element.attr("data-shopify-model3d-id",xrButton.defaultId),model.modelViewerUi.pause()}).on("xrLaunch",function(){model.modelViewerUi.pause()});var $carousel=model.$container.closest(".p-thumb");if($carousel.hasClass("is-draggable")){var flkty=$carousel.data("flickityt4s");$(model.$element).on("shopify_model_viewer_ui_toggle_play",function(){flkty=model.$container.closest(".p-thumb").data("flickityt4s"),_ToggleDragging(flkty,!1)}),$(model.$element).on("shopify_model_viewer_ui_toggle_pause",function(){_ToggleDragging(flkty,">1")})}}function removeSectionModels(sectionId){for(var key in models)if(models.hasOwnProperty(key)){var model=models[key];model.sectionId===sectionId&&(models[key].modelViewerUi.destroy(),delete models[key])}delete modelJsonSections[sectionId]}return{init:init,removeSectionModels:removeSectionModels}},geckoShopify.initProductVideo=function(sectionId){if($(productMediaTypeVideo).length!=0){var $container=$('[data-featured-product-se][data-id="'+sectionId+'"] .product-images');$(productMediaTypeVideo).each(function(){var $el=$(this);geckoShopify.ProductVideo().init($el,sectionId)})}},geckoShopify.initModelViewerLibraries=function(sectionId){if($(productMediaTypeModel).length!=0){var $container=$('[data-featured-product-se][data-id="'+sectionId+'"] .product-images'),$modelViewerElements=$(productMediaTypeModel,$container);$modelViewerElements.length<1||geckoShopify.ProductModel().init($modelViewerElements,sectionId)}},geckoShopify.initShopifyXrLaunch=function(sectionId){$(productMediaTypeModel).length!=0&&$(document).on("shopify_xr_launch",function(){$('[data-featured-product-se][data-id="'+sectionId+'"] [data-mdtype="model"].is-selected').trigger("xrLaunch")})},geckoShopify.ThumLeftRight=function(id){if(!(window_w<1024||$('[data-featured-product-se][data-id="'+id+'"] .thumb_left').length==0&&$('[data-featured-product-se][data-id="'+id+'"] .thumb_right').length==0)){var $carouselNav=id==null?$(".p-nav"):$('[data-featured-product-se][data-id="'+id+'"] .p-nav'),$col_nav=id==null?$(".col_nav"):$('[data-featured-product-se][data-id="'+id+'"] .col_nav'),timer=400,btn_pnav_next=$col_nav.find(".btn_pnav_next"),btn_pnav_prev=$col_nav.find(".btn_pnav_prev");$carouselNav.on("select.flickityt4s",function(event,index){if($col_nav.removeClass("t4_show"),!($(window).width()<=1024)){var slider_height=$carouselNav.find(".flickityt4s-slider").height(),navHeight=$carouselNav.height(),navCellHeight=slider_height/$carouselNav.find(".n-item").length;if(!(slider_height<=navHeight)){slider_height-navHeight>45&&$col_nav.addClass("t4_show");var mdid=$(".p-thumb .is-selected").attr("data-mdid"),$selected=$carouselNav.find('.flickityt4s-slider .n-item[data-mdid="'+mdid+'"]'),scrollY=$selected.position().top+$carouselNav.position().top-(navHeight+navCellHeight)/2;$carouselNav.stop().animate({scrollTop:scrollY},timer)}}}),$col_nav.find(".btn_pnav_next, .btn_pnav_prev").off("click").on("click",function(e){var _this2=$(this),slider_height=$carouselNav.find(".flickityt4s-slider").height(),navHeight=$carouselNav.height(),navCellHeight=slider_height/$carouselNav.find(".n-item").length,CurentScrollTop=$carouselNav.scrollTop();if(!(_this2.hasClass("btn_pnav_prev")&&CurentScrollTop<=0||_this2.hasClass("btn_pnav_next")&&CurentScrollTop>=slider_height-navHeight)){var scrollY=_this2.hasClass("btn_pnav_next")?CurentScrollTop+navCellHeight+40:CurentScrollTop-navCellHeight-40;$carouselNav.stop().animate({scrollTop:scrollY},timer)}})}};var jsonIcons={video:"las la-play",external_videoyoutube:"lab la-youtube",external_videovimeo:"lab la-vimeo",model:"las la-cube"};geckoShopify.productImagesThumb=function(id,bl){var $el=id==null?$(".p-nav"):$('[data-featured-product-se][data-id="'+id+'"] .p-nav');if($el.length==0)return;var $mainGallery=id==null?$(".p-thumb"):$(".p-thumb"+id);if(id==null)var class_cl=$(".thumb_left").length>0||$(".thumb_right").length>0?"col-lg-12 ":"";else var class_cl=$(".thumb_left").length>0||$(".thumb_right").length>0?"col-lg-12 ":"";$mainGallery.each(function(index){var p_nav=$el.length==1?$el:$el.eq(index);initThumbnailsMarkup($(this),p_nav)});function initThumbnailsMarkup(_this2,p_nav){var markup="",e_imgnv=$(".p-nav.ratio_imgtrue").length>0;_this2.find(".p-item:not(.is_varhide)").each(function(){var _this3=$(this),grname=_this3.data("grname"),grpvl=_this3.data("grpvl"),bgset=_this3.data("bgset"),alt=_this3.data("cap"),mdtype=_this3.data("mdtype"),mdid=_this3.data("mdid"),ratio=_this3.data("ratio"),vhost=_this3.data("vhost")||"",style="",cl_icon=jsonIcons[mdtype+vhost]||"hide";e_imgnv&&(style=' style="padding-top:'+1/ratio*100+'%"'),markup+='<div class="'+class_cl+'col-3 n-item js-sl-item" data-grname="'+grname+'" data-grpvl="'+grpvl+'" data-mdid="'+mdid+'" data-mdtype="'+mdtype+'"><div class="nt_bg_lz pr oh"'+style+'><img class="lazyloadt4s t4s-media-img" data-optimumx="1.5" data-src="'+bgset+'" data-widths="[80, 120, 160 ,180, 360, 540]" data-ratio="'+ratio+'" data-sizes="auto"><span class="t4s-img-loader"></span><i class="'+cl_icon+'"></i></div>'}),p_nav.empty().append(markup),bl?setTimeout(function(){geckoShopify.refresh_flickity(p_nav),geckoShopify.ThumLeftRight(id),p_nav.addClass("p-nav-ready")},800):(geckoShopify.refresh_flickity(p_nav),geckoShopify.ThumLeftRight(id),p_nav.addClass("p-nav-ready"))}},geckoShopify.EnaDisDragging=function(id){var pThumb=$('[data-featured-product-se][data-id="'+id+'"]').find(".p-thumb.flickityt4s-enabled"),$model=pThumb.find("[data-pr-md-tp-model]").length,$video=pThumb.find("[data-pr-md-tp-video]").length;pThumb.length==0||$model<1&&$video<1||pThumb.on("select.flickityt4s",function(event,index){var $selectedSlide=pThumb.find(".is-selected"),attrselectedSlide=$selectedSlide.attr("data-mdtype"),$p_btns=$(".p_group_btns");$(".p-thumb [data-pr-md-tp-video]").trigger("mediaHidden"),$p_btns.removeClass("nt_hide nt_hide_2"),(attrselectedSlide=="video"||attrselectedSlide=="external_video"||attrselectedSlide=="model")&&(attrselectedSlide=="model"?($p_btns.addClass("nt_hide_2"),$selectedSlide.find("[data-pr-md-tp-model]").trigger("mediaVisible")):($p_btns.addClass("nt_hide"),$selectedSlide.find("[data-pr-md-tp-video]").trigger("mediaVisible")))})},geckoShopify.ProductSection=function(id){var el=id==null?$("[data-featured-product-se]"):$('[data-featured-product-se][data-id="'+id+'"]');el.length!=0&&el.each(function(index){var se_id=$(this).data("id"),txt_stock="#nt_stock"+se_id,$nt_stock=$(txt_stock),qty_cur=$nt_stock.data("cur"),qty_mess=$nt_stock.data("st"),ck_inventory=$nt_stock.data("qty");(qty_mess==1||qty_mess==3)&&qty_cur<ck_inventory&&qty_cur>0?geckoShopify.progressbar(txt_stock,qty_cur):qty_mess!=1&&geckoShopify.progressbar(txt_stock),se_id!="_ppr"?geckoShopify.ATC_animation("#shopify-section-"+se_id+" .single_add_to_cart_button"):(geckoShopify.ATC_animation("#shopify-section-pr_summary .single_add_to_cart_button"),geckoShopify.ATC_animation("#shopify-section-sticky_atc .single_add_to_cart_button")),geckoShopify.real_time("#counter"+se_id),geckoShopify.flashSold("#sold"+se_id),geckoShopify.InitCountdown_pr("#nt_countdow"+se_id),geckoShopify.delivery_order("#delivery"+se_id),geckoShopify.initProductVideo(se_id),geckoShopify.EnaDisDragging(se_id),geckoShopify.productImagesThumb(se_id,!0)})}})(jQuery_T4NT),jQuery_T4NT(document).ready(function($2){geckoShopify.searchDropdown(),geckoShopify.ajaxPPjs(),geckoShopify.WidgetCartUpdateMobile(),geckoShopify.ProductSection(),geckoShopify.clickProduct(),geckoShopify.spAccordion(),geckoShopify.spQuantityAdjust(),geckoShopify.ajaxAddItem(),geckoShopify.ajaxchangeItem(),geckoShopify.ajaxFbt(),geckoShopify.ajaxfgr(),geckoShopify.stickyAddToCart(),geckoShopify.spNotices(),geckoShopify.AgreeCheckout(),geckoShopify.AgreeEmailCheckout(),geckoShopify.cartLazyUp(),geckoShopify.searchAjax(),geckoShopify.searchType(),geckoShopify.CatHeader8(".h_cat_nav"),geckoShopify.CatHeader8(".cl_h_search .product_list_widget"),document.addEventListener("cart:refresh",function(evt){geckoShopify.GetCartData(0,1)}),$2(".cart_thres_js").length>0&&nt_settings.show_confetti&&geckoShopify.CanvasConfetti().init(),$2("#store_availability_ppr").attr("data-has-only-default-variant")==="true"&&geckoShopify._updateStoreAvailabilityContent($2("#store_availability_ppr"),!0,$2("#store_availability_ppr").attr("data-vid")),$script(JSNTT4.data("prjs"),function(){geckoShopify.productImages(),geckoShopify.galleryPhotoSwipe()}),$2("[data-js-callback] .lazypreloadt4s.nt_pre_img").length>0&&$2("[data-js-callback] .lazypreloadt4s.nt_pre_img").addClass("lazyloadt4s").one("lazyincludeloaded",function(e){if(e.detail.content){var content=e.detail.content,html=content.split("<!--split-->");html=html[1]||html[0],e.detail.content=html}}),$2("[data-js-callback] .nt_pr_js").length>0&&$2("[data-js-callback] .nt_pr_js").addClass("lazyloadt4s").one("lazyincludeloaded",function(e){if(e.detail.content){var content=e.detail.content,html=content.split("<!--split-->");html=html[1]||html[0],e.detail.content=html}}).one("lazyincluded",function(e){var pr_id=$2(e.currentTarget).data("id");geckoShopify.NtproductPage(pr_id),geckoShopify.initModelViewerLibraries(pr_id),geckoShopify.initShopifyXrLaunch(pr_id),$2(".nt_mfp_360").addClass("sh_ani_css")}),$2("#pr_recommendations").length>0&&$2("#pr_recommendations").addClass("lazyloadt4s").one("lazyloaded",function(e){geckoShopify.PrRecommendations()}),$2("#recently_wrap").length>0&&$2("#recently_wrap").addClass("lazyloadt4s").one("lazyloaded",function(e){geckoShopify.recently_viewed()})});function onYouTubeIframeAPIReady(){jQuery_T4NT("body").trigger("youTubeReady"),geckoShopify.ProductVideo().loadVideos(geckoShopify.ProductVideo().hosts.youtube)}
//# sourceMappingURL=/cdn/shop/t/35/assets/swatch.js.map?v=158531144470236526611717081071
